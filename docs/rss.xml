<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Purple4pur's Canvas</title><link>/</link><description>Make it simple. Keep it simple.</description><copyright>Purple4pur's Canvas</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/49893724</url><title>avatar</title><link>/</link></image><lastBuildDate>Mon, 13 Oct 2025 08:16:16 +0000</lastBuildDate><managingEditor>Purple4pur's Canvas</managingEditor><ttl>60</ttl><webMaster>Purple4pur's Canvas</webMaster><item><title>ã€åˆ†æ­§è·¯å£ï¼Œå‰é€”æ¼«æ¼«ã€‘é¸¡ç‹—å¯¹é‚¦ Day2 å‚æˆ˜å›æƒ³</title><link>https://blog.quitw.org/post/%E3%80%90-fen-qi-lu-kou-%EF%BC%8C-qian-tu-man-man-%E3%80%91-ji-gou-dui-bang-%20Day2%20-can-zhan-hui-xiang.html</link><description>[&lt;&lt; 2025 æ´»åŠ¨å…¨è®°å½•](/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html)

è‰°éš¾ä¸‰å¼€æ‰æŠ¢åˆ° Day2 480 å±±é¡¶ç¥¨ï¼Œæ„Ÿè°¢çŒ«çœ¼ä¸å¡äººæœºéªŒè¯ä¸å¼ºè¡Œé€€å‡ºæäº¤è®¢å•é¡µé¢ï¼Œåœ¨ä¸‰å¼€ä¸¤åˆ†é’Ÿåç«Ÿç„¶èµ¢äº†ï¼Œä¸èµ–ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/%E3%80%90-fen-qi-lu-kou-%EF%BC%8C-qian-tu-man-man-%E3%80%91-ji-gou-dui-bang-%20Day2%20-can-zhan-hui-xiang.html</guid><pubDate>Sun, 12 Oct 2025 19:25:14 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day8+1 | å†è§æµå—</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day8%2B1%20-%20-zai-jian-ji-nan.html</link><description>[&lt;&lt; Day8](/post/chuan-xi-da-huan-xian-%20-%20Day8%20-%20-cheng-du-xiao-chi-ã€-gui-tu-zhong-zhuan.html)

ä¸­è½¬é…’åº—ä¹Ÿæä¾›äº†å…è´¹çš„æ—©é¤ç®€é¤ï¼Œæ¯äººä¸€ä»½ï¼Œé‡Œé¢æ˜¯ä¸‰ä¸ªè¾¾åˆ©å›­å°é¢åŒ…ã€ä¸€ä¸ªå¤è›‹ã€ä¸€ä»½åšæœå’Œä¸€å°ç“¶è’™ç‰›çº¯ç‰›å¥¶ï¼Œæ‹¿åˆ°çš„æ—¶å€™æˆ‘è¿˜æŒºæƒŠå–œçš„ï¼Œæœ‰ç‚¹è¶…å‡ºé¢„æœŸäº†ï¼Œè€Œä¸”ä¹Ÿç¡®å®å¾ˆé€‚åˆæ—©ä¸Šèµ¶é£æœºçš„æ—…å®¢ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day8%2B1%20-%20-zai-jian-ji-nan.html</guid><pubDate>Sat, 11 Oct 2025 06:57:17 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day8 | æˆéƒ½å°åƒã€å½’é€”ä¸­è½¬</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day8%20-%20-cheng-du-xiao-chi-%E3%80%81-gui-tu-zhong-zhuan.html</link><description>&lt;!-- ##{'timestamp':1760111999}## --&gt;
[&lt;&lt; Day7](/post/chuan-xi-da-huan-xian-%20-%20Day7%20-%20-si-gu-niang-shan-ã€-huo-guo-ã€-chuan-xi-jie-shu.html) | [Day Bonus &gt;&gt;](/post/chuan-xi-da-huan-xian-%20-%20Day%20Bonus%20-%20-zai-jian-ji-nan.html)

æ—©ä¸Šé†’æ¥å…ˆèµ¶åœ¨ saki åå¤å±‹æ´»åŠ¨ç»“æŸå‰ p äº†ä¸€æŠŠï¼Œè¿˜å¥½ä¸€æ¬¡æŠ½æ´»åŠ¨ç¡¬å¸å°±æŠŠæœ€åçš„äº”ä»½ saki ç¢ç‰‡æŠ½å‡ºæ¥äº†ï¼Œæé™ç™½å«–å®Œæ´»åŠ¨ saki ç¢ç‰‡ï¼Œçˆ½äº†ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day8%20-%20-cheng-du-xiao-chi-%E3%80%81-gui-tu-zhong-zhuan.html</guid><pubDate>Fri, 10 Oct 2025 15:59:59 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day7 | å››å§‘å¨˜å±±ã€ç«é”…ã€å·è¥¿ç»“æŸ</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day7%20-%20-si-gu-niang-shan-%E3%80%81-huo-guo-%E3%80%81-chuan-xi-jie-shu.html</link><description>[&lt;&lt; Day6](#) | [Day8 &gt;&gt;](/post/chuan-xi-da-huan-xian-%20-%20Day8%20-%20-cheng-du-xiao-chi-ã€-gui-tu-zhong-zhuan.html)

æ˜¨æ™šæ¢äº†æˆ¿é—´ä¹‹åç¡å¾—è¿˜è¡Œï¼Œè€Œä¸”ä»Šå¤©æˆ‘ä»¬å‡ºå‘å¯ä»¥è‡ªå·±å†³å®šæ—¶é—´ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day7%20-%20-si-gu-niang-shan-%E3%80%81-huo-guo-%E3%80%81-chuan-xi-jie-shu.html</guid><pubDate>Thu, 09 Oct 2025 15:34:40 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day6</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day6.html</link><description>placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day6.html</guid><pubDate>Wed, 08 Oct 2025 15:27:19 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day5</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day5.html</link><description>placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day5.html</guid><pubDate>Tue, 07 Oct 2025 16:00:34 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day4</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day4.html</link><description>placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day4.html</guid><pubDate>Mon, 06 Oct 2025 15:24:03 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day3</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day3.html</link><description>placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day3.html</guid><pubDate>Sun, 05 Oct 2025 15:20:24 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day2</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day2.html</link><description>placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day2.html</guid><pubDate>Sun, 05 Oct 2025 15:18:47 +0000</pubDate></item><item><title>å·è¥¿å¤§ç¯çº¿ | Day1</title><link>https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day1.html</link><description>Placeholderã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chuan-xi-da-huan-xian-%20-%20Day1.html</guid><pubDate>Fri, 03 Oct 2025 15:35:42 +0000</pubDate></item><item><title>å¤æ´»è€å¤è‘£ Mac mini (2014) - å®‰è£… Debian 13 è®°å½•</title><link>https://blog.quitw.org/post/fu-huo-lao-gu-dong-%20Mac%20mini%20%282014%29%20-%20-an-zhuang-%20Debian%2013%20-ji-lu.html</link><description>### å‰è¨€

è¿™å° Mac mini å·²åœ¨æˆ‘å®¶æœå½¹å¤šå¹´ï¼Œå½“åˆå®¶é‡Œä¹°äº†å®ƒä¹‹åï¼Œè¿˜ä¸å¤ªæ‡‚ç”µè„‘çš„æˆ‘ä¸çŸ¥æ€ä¹ˆæ‘¸ç´¢ç€ç»™è£…ä¸Šäº† Windowsï¼Œè¿™å¯èƒ½è¿˜çœŸå¾—æ„Ÿè°¢ bootcamp åšå¾—å¦‚æ­¤å°ç™½å‹å¥½ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/fu-huo-lao-gu-dong-%20Mac%20mini%20%282014%29%20-%20-an-zhuang-%20Debian%2013%20-ji-lu.html</guid><pubDate>Wed, 01 Oct 2025 18:03:23 +0000</pubDate></item><item><title>åˆæ˜Ÿå¤§è¿åŠ¨ä¼šä¹‹æ—… | æ”¯å‡ºç»Ÿè®¡</title><link>https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20-zhi-chu-tong-ji.html</link><description>[&lt;&lt; Day3](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day3%20-%20-zui-hou-de-gou-wu-%E3%80%81-gui-tu.html)

æ”¯å‡ºç»Ÿè®¡å‡ä»¥ CNY è¡¨ç¤ºï¼ŒJPY è¿›è¡Œå¤§è‡´æ¢ç®— (0.048x)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20-zhi-chu-tong-ji.html</guid><pubDate>Fri, 26 Sep 2025 09:20:22 +0000</pubDate></item><item><title>åˆæ˜Ÿå¤§è¿åŠ¨ä¼šä¹‹æ—… | Day3 | æœ€åçš„è´­ç‰©ã€å½’é€”</title><link>https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day3%20-%20-zui-hou-de-gou-wu-%E3%80%81-gui-tu.html</link><description>[&lt;&lt; Day2](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day2%20-%20-yuan-meng-xue-ma-xian-di-%EF%BC%81.html) | [æ”¯å‡ºç»Ÿè®¡ &gt;&gt;](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20-zhi-chu-tong-ji.html)

æ—©ä¸Šå…«ç‚¹åŠï¼Œæ€»ç®—åƒä¸Šäº†ä¸œæ¨ª INN è‡ªå¸¦çš„å…è´¹æ—©é¤ï¼Œæ€»ä½“ä¸€èˆ¬èˆ¬ï¼Œå¯¹äºæƒ³è¹­ä¸€é¡¿æ—©é¤çš„æˆ‘æ¥è¯´ä¸€ç‚¹æ¯›ç—…æ²¡æœ‰ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day3%20-%20-zui-hou-de-gou-wu-%E3%80%81-gui-tu.html</guid><pubDate>Mon, 22 Sep 2025 12:34:14 +0000</pubDate></item><item><title>åˆæ˜Ÿå¤§è¿åŠ¨ä¼šä¹‹æ—… | Day2 | åœ†æ¢¦å­¦é©¬ç°åœ°ï¼</title><link>https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day2%20-%20-yuan-meng-xue-ma-xian-di-%EF%BC%81.html</link><description>[&lt;&lt; Day1](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day1%20-%20-cai-dian-%E3%80%81-chang-fan-fa-zhan.html) | [&lt;&lt; 2025 æ´»åŠ¨å…¨è®°å½•](/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html) | [Day3 &gt;&gt;](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day3%20-%20-zui-hou-de-gou-wu-%E3%80%81-gui-tu.html)

æ—©ä¸Šè¿ç€æŒ‰æ‰äº†ä¸¤ä¸ªé—¹é’Ÿï¼Œä¸€ç›´ç¡åˆ°äº†ä¸­åˆåäºŒç‚¹ï¼Œå‰ä¸€å¤©æ™šä¸Šå‡ ä¹ä¸€ç‚¹æ²¡ç¡çœŸçš„å¤ªç´¯äº†ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day2%20-%20-yuan-meng-xue-ma-xian-di-%EF%BC%81.html</guid><pubDate>Sun, 21 Sep 2025 15:57:27 +0000</pubDate></item><item><title>åˆæ˜Ÿå¤§è¿åŠ¨ä¼šä¹‹æ—… | Day1 | è¸©ç‚¹ã€åœºè´©ç½šç«™</title><link>https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day1%20-%20-cai-dian-%E3%80%81-chang-fan-fa-zhan.html</link><description>[Day2 &gt;&gt;](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day2%20-%20-yuan-meng-xue-ma-xian-di-%EF%BC%81.html)

æµ¦ä¸œæœºåœºå‡ºå‘ç°åœºå€¼æœºçš„æ—¶å€™å·®ç‚¹å‡ºé—®é¢˜ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day1%20-%20-cai-dian-%E3%80%81-chang-fan-fa-zhan.html</guid><pubDate>Sat, 20 Sep 2025 15:00:06 +0000</pubDate></item><item><title>Blog æ ·å¼ä¼˜åŒ–</title><link>https://blog.quitw.org/post/Blog%20-yang-shi-you-hua.html</link><description>ç»è¿‡ç®€å•è¯„ä¼°ï¼Œæˆ‘å‘ç°å¾ˆå®¹æ˜“å°±èƒ½è‡ªå®šä¹‰ Blog builder (Gmeek.py) çš„è¡Œä¸ºã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Blog%20-yang-shi-you-hua.html</guid><pubDate>Tue, 16 Sep 2025 16:12:38 +0000</pubDate></item><item><title>VPS ç»­å‘½ä¸€å¹´</title><link>https://blog.quitw.org/post/VPS%20-xu-ming-yi-nian.html</link><description>ä¹Ÿæ˜¯ç»™æœ¬å°ğŸ”ç»­å‘½ä¸Šäº†ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/VPS%20-xu-ming-yi-nian.html</guid><pubDate>Sun, 14 Sep 2025 15:57:45 +0000</pubDate></item><item><title>How to Pull from/Push to Current Repository in Github Actions</title><link>https://blog.quitw.org/post/How%20to%20Pull%20from-Push%20to%20Current%20Repository%20in%20Github%20Actions.html</link><description>### Pull from current repository

By default the runner has full read permission on current repository (using built-in GITHUB_TOKEN), regardless of private or not.

```yaml
jobs:
  JOB:
    steps:
      - name: Checkout repository
        uses: actions/checkout@v5
```

After checking out, CWD will be exactly at the root of repo.

### Push to current repository

To enable pushing, write permission must be enabled on GITHUB_TOKEN:

Repository 'Settings' -&gt; 'Actions' -&gt; 'General' -&gt; 'Workflow permissions' -&gt; Check on 'Read and write permissions'.

```yaml
jobs:
  JOB:
    steps:
      - name: Push changes
        run: |
          git config user.name 'github-actions[bot]'
          git config user.email '41898282+github-actions[bot]@users.noreply.github.com'
          git add .
          git commit -m 'updated by github-actions[bot]'
          git push
```ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/How%20to%20Pull%20from-Push%20to%20Current%20Repository%20in%20Github%20Actions.html</guid><pubDate>Sat, 13 Sep 2025 07:03:28 +0000</pubDate></item><item><title>607-615 ç‹¬é—¯æ—¥æœ¬å…¨è®°å½•</title><link>https://blog.quitw.org/post/607-615%20-du-chuang-ri-ben-quan-ji-lu.html</link><description>[&lt;&lt; 2025 æ´»åŠ¨å…¨è®°å½•](/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html)

è¿™æ˜¯ä¸€æ¬¡æ¯”è¾ƒä¸´æ—¶è§„åˆ’çš„æ—¥æœ¬è¡Œï¼Œä¹Ÿæ˜¯æˆ‘çš„é¦–æ¬¡æ—¥æœ¬è¡Œã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/607-615%20-du-chuang-ri-ben-quan-ji-lu.html</guid><pubDate>Fri, 18 Jul 2025 11:16:53 +0000</pubDate></item><item><title>ä¸€è·¯èµ°å¥½</title><link>https://blog.quitw.org/post/yi-lu-zou-hao.html</link><description>å¤–å…¬ï¼Œä¸€è·¯èµ°å¥½ï¼ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/yi-lu-zou-hao.html</guid><pubDate>Wed, 07 May 2025 15:39:51 +0000</pubDate></item><item><title>YOASOBI Asia Tour in Shanghai Day1 å‚æˆ˜å›æƒ³</title><link>https://blog.quitw.org/post/YOASOBI%20Asia%20Tour%20in%20Shanghai%20Day1%20-can-zhan-hui-xiang.html</link><description>[&lt;&lt; 2025 æ´»åŠ¨å…¨è®°å½•](/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html)

Live æ—¥æ˜¯ 2025/2/15ï¼Œè¿™ç¯‡å›æƒ³è¿Ÿåˆ°äº†ä¸€ä¸ªæœˆï¼Œä½†æ•´åœºæ¼”å‡ºéƒ½æå¦‚æ˜¨æ—¥ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/YOASOBI%20Asia%20Tour%20in%20Shanghai%20Day1%20-can-zhan-hui-xiang.html</guid><pubDate>Sat, 22 Mar 2025 18:46:37 +0000</pubDate></item><item><title>Loop With fork-join_none and Automatic Variables</title><link>https://blog.quitw.org/post/Loop%20With%20fork-join_none%20and%20Automatic%20Variables.html</link><description>### Background

Very often, we may want to start an individual thread with `fork` block in a loop. And also very often, if we use looped variables in `fork` block, things may not work as expected. In the following example, we will see `do_something()` is always applying to the last looped node in `nodes` array.

```systemverilog
// Example of a bad usage
foreach (nodes[i]) begin
    Node node = nodes[i];
    fork
        do_something(node);
    join_none
end
```

To solve this issue, two things we should know and understand: `fork` working mechanism and `automatic` variable.

### When do `fork` threads start?

It's a kind of tricky must-know. According to [SystemVerilog LRM (2023)](https://ieeexplore.ieee.org/document/10458102) *9.3.2 Parallel blocks*:

&gt; In all cases, processes spawned by a fork-join block shall not start executing **until the parent process is blocked or terminates**.

The key point here is a thread does not start immediately when it reaches `fork`. For `fork-join` and `fork-join_any` it's quite straight-forward because the parent thread is blocked when it reaches `join` or `join_any`.

But `join_none` does not block the parent thread, so in the above example, `do_something()` would not start in each loop, until they see something blocking after the `foreach` loop. At that time they starts, the variable `node` has been assigned to the last looped node for each thread. That's why we see the same results for each thread.

### `automatic` vs `static` variable

`automatic` and `static` are variable lifetime modifiers.

`automatic` means the variable only lives in current scope, which is the default behavior of many other programming languages. According to [SystemVerilog LRM (2023)](https://ieeexplore.ieee.org/document/10458102) *6.21 Scope and lifetime*:

&gt; Class methods and declared `for` loop variables are by default automatic, regardless of the lifetime attribute of the scope in which they are declared.

`static` means the variable is *re-used* among each declaration or access in the same scope, like how the C `static` works. **This is the default lifetime in SystemVerilog.**

Back to the example, `node` is static by default, so each `fork` context shares the same `node` variable, which is the last looped node in this case.

```systemverilog
// Example of a bad usage
foreach (nodes[i]) begin
    Node node = nodes[i]; // static variable by default, reused in each loop
    fork
        do_something(node);
    join_none
end
```

To assign and use a new `node` variable in each loop and each `fork` context, we should explicitly mark the variable as `automatic`.

```systemverilog
// Best practice
foreach (nodes[i]) begin
    automatic Node node = nodes[i]; // explicit automatic lifetime
    fork
        do_something(node);
    join_none
end
```

### Conclusion

The gap here is the default lifetime is different from other languages like C, and the `fork` block is not as intuitive as it looks like. I suggest to go through the whole *6.21 Scope and lifetime* section to understand the lifetime model.

### Read more

- [[Automatic variables in fork - SystemVerilog - Verification Academy]](https://verificationacademy.com/forums/t/automatic-variables-in-fork/31041)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Loop%20With%20fork-join_none%20and%20Automatic%20Variables.html</guid><pubDate>Wed, 05 Mar 2025 09:17:33 +0000</pubDate></item><item><title>Why My Webdav Playback Is Broken: Cloudflare's in the Middle</title><link>https://blog.quitw.org/post/Why%20My%20Webdav%20Playback%20Is%20Broken-%20Cloudflare%27s%20in%20the%20Middle.html</link><description>The title basically tells everything, which I finally figured it out after an unintentional file uploading.

I run a frp server on the VPS to expose the Webdav hosted on my local laptop. As usual I put a Cloudflare proxy on DNS. That's the background.

It worked actually very fine and all functions seemed to be good. But the video playback was so laggy that most of the time I even could not start playing. I thought the problem was the poor network between my laptop and the VPS in Tokyo.

Recently I tried to upload a 140MB file through Webdav to my laptop, but it always failed after an around 100MB transaction and got a **413 Request Entity Too Large** HTTP error. This error was given by [Cloudflare](https://developers.cloudflare.com/support/troubleshooting/http-status-codes/4xx-client-error/#413-payload-too-large-rfc7231), and till then I knew about the 100MB limitation for the first time.

After I switched my DNS setting to no proxy, the file uploading issue was gone, so as the video playback one.ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Why%20My%20Webdav%20Playback%20Is%20Broken-%20Cloudflare%27s%20in%20the%20Middle.html</guid><pubDate>Thu, 23 Jan 2025 16:30:57 +0000</pubDate></item><item><title>æˆ‘çš„ç¬”è®°æœ¬ CPU é£æ‰‡ï¼Œæ­»äº†</title><link>https://blog.quitw.org/post/wo-de-bi-ji-ben-%20CPU%20-feng-shan-%EF%BC%8C-si-le.html</link><description>è¿™ä¸€å¤©ç©¶ç«Ÿæ˜¯åˆ°äº†ï¼šç¬”è®°æœ¬ç”µè„‘ä¸å†å‘å‡ºæ‹–æ‹‰æœºä¸€èˆ¬å·¨å¤§çš„å™ªéŸ³ï¼Œå›åˆ°äº†ä¹…è¿çš„å®‰é™ï¼Œä½†è¿™è®©æˆ‘æ›´å®³æ€•ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/wo-de-bi-ji-ben-%20CPU%20-feng-shan-%EF%BC%8C-si-le.html</guid><pubDate>Fri, 17 Jan 2025 17:29:37 +0000</pubDate></item><item><title>2025 å¹´ Live åŠå„ç±»æ´»åŠ¨å‚æˆ˜è®°å½•</title><link>https://blog.quitw.org/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html</link><description>[&lt;&lt; 2024](/post/2024%20-nian-ge-lei-%20Live%20-ji-zhan-hui-can-zhan-ji-lu.html)

### Live

| No. | æ—¥æœŸ | Live | åŸå¸‚ | åœºé¦† | é—¨ç¥¨ | ç‰©è´© | å¤‡æ³¨ |
|---|---|---|---|---|---|---|---|
| 1 | 1/11 | ã€ç¦ç”µå¤œã€‘å››å¤œ Only ä¸æ’ç”µ Cover | ä¸Šæµ· | ä¸Šæ»¨èŸ | 68 | 130 | |
| 2 | 1/12 | æ—¥éŸ³é¾™å· \~å¾‹åŠ¨å¹»æƒ³\~ | ä¸Šæµ· | THE BOXX | 0 | 0 | ä¸­å¥–ç¥¨ |
| 3 | 1/19 | å’ŒéŸ³ç¤¾ RE:HARMONIC NOVAE é¦–æ¼” | ä¸Šæµ· | æ—è‚¯çˆµå£«ä¹ | 220 | 0 | |
| 4 | 2/15 | [YOASOBI Asia Tour è¶…ç°å® Day1](/post/YOASOBI%20Asia%20Tour%20in%20Shanghai%20Day1%20-can-zhan-hui-xiang.html) | ä¸Šæµ· | æ¢…å¥”æ–‡åŒ–ä¸­å¿ƒ | 2360 | 888 | 1180 x2 |
| 5 | 2/23 | ã€å¤œ:æ­Œç—‡å€™ç¾¤ã€‘å››å¤œ Only | ä¸Šæµ· | THE BOXX | 169 | 0 | åŒäººç¥¨ |
| 6 | 2/27 | ã“ã¯ãªã‚‰ã‚€ China Tour | ä¸Šæµ· | æ‘©ç™»å¤©ç©º | 180 | 90 | |
| 7 | 3/1 | 2.5 æ¬¡æ¼«å»¶æ—¶ Jump into ACG | æ­å· | è›™å‚ RMMF | 59 | 0 | |
| 8 | 3/9 | ã€æˆ‘å›æ¥äº†ï¼ã€‘ä¸‰æœˆçš„å¹»æƒ³ | ä¸Šæµ· | MAO | 380 | 0 | |
| 9 | 3/21 | Vocamania å…«ç‹å­P &amp; kz | ä¸Šæµ· | VAS | 350 | 0 | |
| 10 | 3/22 | NOVAE x å†°å…” Collab Live | ä¸Šæµ· | æ—è‚¯çˆµå£«ä¹ | 258 | 0 | |
| 11 | 3/23 | Suzhou Band Cry æ—¥ç³» ACG ä¸“åœº | è‹å· | 1981 éŸ³ä¹ä»“åº“ | 65 | 0 | |
| 12 | 3/29 | ã€é«˜èƒ½å†ç°ã€‘å’ŒéŸ³ç¤¾åŠ¨æ¼«äº¤å“ | ä¸Šæµ· | ä¸´æ¸¯æ¼”è‰ºä¸­å¿ƒ | 261 | 0 | |
| 13 | 3/30 | åŸå£°ä¹‹å¤œéŸ³ä¹ä¼š | ä¸Šæµ· | äº¤å¤§é—µè¡Œ | 0 | 16.8 | å…è´¹ç¥¨ |
| 14 | 4/17 | ãƒ¦ã‚¤ã‚« 1st Asia Tour | ä¸Šæµ· | èœšå£° | 380 | 660 | |
| 15 | 4/23 | ãƒŠãƒŠãƒ²ã‚¢ã‚«ãƒª Asia Tour | ä¸Šæµ· | æ‘©ç™»å¤©ç©º | 260 | 0 | |
| ~16~ | ~4/26~ | ~å›å¿†ç›¸å¯¹è®º Vol.2~ | ~ä¸Šæµ·~ | ~é™å®‰ä½“è‚²ä¸­å¿ƒ~ | 680 | 0 | é™ªä¼´å®¶äºº |
| 17 | 5/17 | Utopia Festival Day1 | ä¸Šæµ· | ä¸Šæµ·èµ›è½¦åœº | 580 | 0 | |
| 18 | 5/25 | ã€å¤šå¨ç‹‚å–œã€‘ç™½é‡‘äº¤å“éŸ³ä¹ä¼š | æ·±åœ³ | å—å±±æ–‡ä½“ä¸­å¿ƒ | 520 | 0 | åŒäººç¥¨ |
| 19 | 6/1 | æå…‰çºª 6th | ä¸Šæµ· | Cream Club | 84 | 0 | |
| 20 | 6/7 | [æ£®ç¾…ä¸‡è±¡ 6th ãƒ¯ãƒ³ãƒãƒ³](/post/607-615%20-du-chuang-ri-ben-quan-ji-lu.html) | ä¸œäº¬ | èµ¤ç¾½ ReNY alpha | 237 | 393 | |
| 21 | 6/28 | METEOR/çŸ³æ–›å…° è·¯æ¼” | ä¸Šæµ· | ç™¾è” ZX ä¸­åº­ | 0 | 0 | |
| 22 | 6/29 | ã€é’ã€‘HAG 3rd China Tour | ä¸Šæµ· | æ‘©ç™»å¤©ç©º | 480 | 0 | |
| 23 | 7/5 | å…‰ä¸å½±çš„èµ‹æ ¼ | ä¸Šæµ· | Cream Club | 88 | 0 | |
| 24 | 7/12 | ã€é”®æ›²å›å“ã€‘Key äº¤å“ æ˜¼+å¤œ | ä¸Šæµ· | æ·è±¹éŸ³ä¹å… | 2280 | 619 | 600 x2 xæ˜¼å¤œ |
| 25 | 7/20 | éŸ³æ³¢ç‹‚æ½® 3.0 Day2 | æ­å· | é’±å¡˜ä½“è‚²ä¸­å¿ƒ | 280 | 0 | |
| ~26~ | ~7/30~ | ~NOVAE å¤æ—¥ä¸“åœº~ | ~ä¸Šæµ·~ | ~æ—è‚¯çˆµå£«ä¹~ | ~218~ | ~0~ | å› å°é£æ”¹æœŸ |
| 27 | 8/3 | æ¼«éŸ³å­£ 3.0 | ä¸Šæµ· | VAS ear | 129 | 0 | |
| 28 | 8/3 | SILENT SIREN 2025 China | ä¸Šæµ· | ä¸‡å—æœªæ¥å‰§åœº | 380 | 198 | |
| 29 | 8/8 | å¹½é—­æ˜Ÿç©º SOLO LIVE | ä¸Šæµ· | CAVE ART VENUE | 299 | 0 | |
| 30 | 8/9 | ç»®éŸ³å¤œæ¸¸Î³ | ä¸Šæµ· | JZ Club | 148 | 0 | |
| 31 | 8/9 | å¹»å¥ç››å®´ | ä¸Šæµ· | äº‘å³°å‰§é™¢ | 580 | 89 | |
| 32 | 8/10 | ä¸œæ–¹ç¢ç«è¶ | ä¸Šæµ· | VAS est | 475 | 0 | |
| 33 | 8/23 | MARUKADO x NOVAE | ä¸Šæµ· | æ—è‚¯çˆµå£«ä¹ | 218 | 0 | |
| 34 | 8/23 | ã€Shiny High-Five!!ã€‘Poppin'Party | ä¸Šæµ· | ä¸œæ–¹ä½“è‚²ä¸­å¿ƒ | 680 | 0 | è“è“ç¥æŠ¢æ‰‹ |
| 35 | 8/24 | ã€æ˜Ÿæ¢¦ç•…æƒ³ã€‘å’ŒéŸ³ç¤¾ x å¶åƒ | ä¸Šæµ· | ä¹…äº‹å•†åŸå‰§é™¢ | 230 | 0 | |
| 36 | 9/12 | ã‚„ãªããªã color palette | ä¸Šæµ· | ä¸‡å—æ¢¦æƒ³å‰§åœº | 380 | 350 | |
| 37 | 9/21 | [åˆæ˜Ÿå¤§é‹å‹•ä¼š Day2](/post/chu-xing-da-yun-dong-hui-zhi-lv-%20-%20Day2%20-%20-yuan-meng-xue-ma-xian-di-%EF%BC%81.html) | ä¸œäº¬ | ä»£ã€…æœ¨ç«¶æŠ€å ´ | 565 | 992 | |
| 38 | 10/12 | [ã€åˆ†æ­§è·¯å£ï¼Œå‰é€”æ¼«æ¼«ã€‘MyGO!!!!! x AveMujica Day2](/post/ã€-fen-qi-lu-kou-ï¼Œ-qian-tu-man-man-ã€‘-ji-gou-dui-bang-%20Day2%20-can-zhan-hui-xiang.html) | ä¸Šæµ· | æ¢…å¥”æ–‡åŒ–ä¸­å¿ƒ | 480 | 0 | |
| 39 | 10/25 | ã€å¤¢èªã‚Š Yume-gatariã€‘ã‚ãŸã‚‰ã‚ˆ | å¹¿å· | å£°éŸ³å…±å’Œ | 0 | TBA | è“è“ç¥æŠ¢æ‰‹ (380) |
| 40 | 11/8 | å¤šç”°è‘µ 2025 Tour | ä¸Šæµ· | VAS ear | 380 | TBA | |
| 41 | 11/22 | ã€ç§‹ã®äºˆå…†ã€‘ã‚Šã‚Šã‚ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html</guid><pubDate>Sun, 12 Jan 2025 15:44:16 +0000</pubDate></item><item><title>2024ï¼šæ–°åŸå¸‚ï¼Œæ–°å·¥ä½œï¼Œæ–°å…´è¶£ï¼Œå’Œæ›´è¿œçš„å¼‚åœ°æ‹</title><link>https://blog.quitw.org/post/2024%EF%BC%9A-xin-cheng-shi-%EF%BC%8C-xin-gong-zuo-%EF%BC%8C-xin-xing-qu-%EF%BC%8C-he-geng-yuan-de-yi-di-lian.html</link><description>å…¶å®å¾€å¹´å¹´æœ«ä¹Ÿæœ‰æƒ³ç€å†™ä¸€ç¯‡è‡ªå·±çš„å¹´ç»ˆæ€»ç»“ï¼Œä½†ç©¶ç«Ÿè¿˜æ˜¯å› ä¸ºæ‡’ï¼ˆä¸»è¦å› ç´ ï¼‰å’Œå¹³å°çš„è€ƒè™‘ï¼Œéš¾äº§äºåŠ¨ç¬”ä¹‹å‰ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/2024%EF%BC%9A-xin-cheng-shi-%EF%BC%8C-xin-gong-zuo-%EF%BC%8C-xin-xing-qu-%EF%BC%8C-he-geng-yuan-de-yi-di-lian.html</guid><pubDate>Mon, 30 Dec 2024 06:40:42 +0000</pubDate></item><item><title>Trick the Client: Using a Custom Http Proxy</title><link>https://blog.quitw.org/post/Trick%20the%20Client-%20Using%20a%20Custom%20Http%20Proxy.html</link><description>**DISCLAIMER: This project is for study only, and does nothing with to-server requests. Use with caution and at your own risk.**&#13;
&#13;
### Background&#13;
&#13;
I really enjoy playing a game, which handles almost everything on client side, and its server side is for ranking, replays, online matches, etc. As always, the server has a bad network connection for players in mainland China like me. So I was thinking if I could setup a relay server on my VPS, to provide a better connection of the game.&#13;
&#13;
### 1. Setup the relay server&#13;
&#13;
What I was thinking is a topology as follows:&#13;
&#13;
```&#13;
+----------+     https     +----------+     https     +----------+&#13;
|          ----------------&gt;          ----------------&gt;          |&#13;
|          |               |          |               |  Actual  |&#13;
|  Client  |               |   Relay  |               |  server  |&#13;
|          |               |          |               |          |&#13;
|          &lt;----------------          &lt;----------------          |&#13;
+----------+     https     +----------+     https     +----------+&#13;
```&#13;
&#13;
Actually it was going quite well. I use Traefik in the frontend to route all related requests to the backend. And in the backend there is a nginx instance to do a just `proxy_pass` job.&#13;
&#13;
One thing I'd like to mention is how nginx is dealing with SSL/TLS certification. Requests it received from the frontend is http w/o TLS. I had to add the marked lines to make it work with actual server side TLS certification:&#13;
&#13;
```nginx&#13;
server {&#13;
  listen 8080;&#13;
  server_name localhost;      # &lt;--&#13;
  location / {&#13;
    resolver 8.8.8.8;&#13;
    proxy_pass https://actual.server.com$request_uri;&#13;
    proxy_ssl_server_name on; # &lt;--&#13;
    proxy_ssl_session_reuse on;&#13;
  }&#13;
}&#13;
```&#13;
&#13;
Let's take a closer look of the topology now:&#13;
&#13;
```&#13;
                           +----------------------------------------------+&#13;
                           |                 Relay server                 |&#13;
                           |                                              |&#13;
+----------+     https     |   +---------+       http       +---------+   |     https     +----------+&#13;
|          --------------------&gt;         -------------------&gt;         --------------------&gt;          |&#13;
|          |               |   |         |                  |         |   |               |  Actual  |&#13;
|  Client  |               |   | Traefik |                  |  nginx  |   |               |  server  |&#13;
|          |               |   |         |                  |         |   |               |          |&#13;
|          &lt;--------------------         &lt;-------------------         &lt;--------------------          |&#13;
+----------+     https     |   +---------+       http       +---------+   |     https     +----------+&#13;
                           |                                              |&#13;
                           +----------------------------------------------+&#13;
```&#13;
&#13;
So it works... Does it? Yeah technically it works very well, for doing the relay job. But here's an issue that about half of the time I can't hold a stable network connection between my client and the relay server! MANY THANKS TO THE FIREWALL. So it comes the bad news that the relay server doesn't do any help of a better connection.&#13;
&#13;
But I would not stop here. Quickly I realized the whole traffic between the client and the server was going through my relay server, which meant that I could monitor anything in it, or even manipulate it as I want.&#13;
&#13;
Let's insert a middleware within the relay server!&#13;
&#13;
### 2. Insert the middleware&#13;
&#13;
I'd like to get rid of all the SSL/TLS stuff. So the best place are there: between Traefik and nginx. I put a http proxy in Golang there (first time Golang experience!).&#13;
&#13;
The http proxy instance is a modified version of [wtsi-hgi/http-proxy-logger](https://github.com/wtsi-hgi/http-proxy-logger), with which I can dump the traffic I care to try to understand the packet structure. Now the topology looks like this:&#13;
&#13;
```&#13;
                           +-------------------------------------------------------------+&#13;
                           |                         Relay server                        |&#13;
                           |                                                             |&#13;
+----------+     https     |  +---------+   http   +-------------+   http   +---------+  |     https     +----------+&#13;
|          -------------------&gt;         -----------|-----(#)-----|----------&gt;         -------------------&gt;          |&#13;
|          |               |  |         |          |             |          |         |  |               |  Actual  |&#13;
|  Client  |               |  | Traefik |          |  Http Proxy |          |  nginx  |  |               |  server  |&#13;
|          |               |  |         |          |             |          |         |  |               |          |&#13;
|          &lt;-------------------         &lt;----------|-----(#)-----|-----------         &lt;-------------------          |&#13;
+----------+     https     |  +---------+   http   +-------------+   http   +---------+  |     https     +----------+&#13;
                           |                                                             |&#13;
                           +-------------------------------------------------------------+&#13;
&#13;
                                                         (#) - dump requests/responses&#13;
```&#13;
&#13;
Everything is under my control. Can I do some funny things to the traffic?&#13;
&#13;
### 3. Trick the client&#13;
&#13;
Thanks to other excellent open-source private server implements, I can find out what messages are sent back to the client by directly reading their source code. It caught my attention that a very bit indicates the user is a supporter, which unlocks some more options on the client side (, and client side only!).&#13;
&#13;
It took me a bit longer time to exactly understand how the bytes are transferred in the response body and extract them in Golang [(code)](https://github.com/purple4pur/goup). And finally I was very surprised that the whole flow worked! Here's the topology now:&#13;
&#13;
```&#13;
                           +-------------------------------------------------------------+&#13;
                           |                         Relay server                        |&#13;
                           |                                                             |&#13;
+----------+     https     |  +---------+   http   +-------------+   http   +---------+  |     https     +----------+&#13;
|          -------------------&gt;         -----------|-------------|----------&gt;         -------------------&gt;          |&#13;
|          |               |  |         |          |             |          |         |  |               |  Actual  |&#13;
|  Client  |               |  | Traefik |          |  Http Proxy |          |  nginx  |  |               |  server  |&#13;
|          |               |  |         |          |             |          |         |  |               |          |&#13;
|          &lt;-------------------         &lt;----------|-----(*)-----|-----------         &lt;-------------------          |&#13;
+----------+     https     |  +---------+   http   +-------------+   http   +---------+  |     https     +----------+&#13;
                           |                                                             |&#13;
                           +-------------------------------------------------------------+&#13;
&#13;
                                                         (*) - trick here!&#13;
```&#13;
&#13;
### What's next?&#13;
&#13;
Well, when I found that special bit, I was asking more options that the client could give me. But the reality is it only gives me about 50% of my expectation. It's not a actual issue because I was giving a best guess of it.&#13;
&#13;
So I'm planing some further steps from here, including bringing back a monitor-only mode, finding more interesting bytes in the traffic, and one more step: can I do some server side jobs? Now I'm so curious if it's possible to implement the friend ranking in the relay side.&#13;
&#13;
Will see later (if any)!ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Trick%20the%20Client-%20Using%20a%20Custom%20Http%20Proxy.html</guid><pubDate>Thu, 19 Dec 2024 14:51:28 +0000</pubDate></item><item><title>Blog Deployment Automation: ONE Post, TWO Sites</title><link>https://blog.quitw.org/post/Blog%20Deployment%20Automation-%20ONE%20Post%2C%20TWO%20Sites.html</link><description>### Background&#13;
&#13;
Before this post, I was hosting this blog on github.io only, which is quite enough for internet access. But GitHub and github.io are facing connection issues in mainland China these days. What I'm trying to achieve is to deploy the blog to my server as well, which provides relatively easy access for viewers in China, and a customized URL.&#13;
&#13;
This post shows the full view of my completely automated workflow of deploying this blog to two sites, along with detailed per step descriptions.&#13;
&#13;
### Workflow: the full view&#13;
&#13;
```&#13;
                 GitHub&#13;
+---------------------------------------+&#13;
|      +--------------------------+     |&#13;
|      | [A] write posts in Issue |     |&#13;
|      +-------------|------------+     |&#13;
|                    |                  |&#13;
|         +----------v----------+       |&#13;
| +-------- [B] generate &amp; push |       |&#13;
| |       |  (GitHub Actions)   |       |&#13;
| |       +----------|----------+       |&#13;
| |                  |                  |&#13;
| |     +------------v------------+     |&#13;
| |     | [C] deploy to github.io &lt;------- internet access&#13;
| |     |    (GitHub Actions)     |     |&#13;
| |     +------------|------------+     |&#13;
| |                  |                  |                    My Server&#13;
| | +----------------v----------------+ |             +---------------------+&#13;
| | | [D] request server side pulling | |   REST API  | +-----------------+ |&#13;
| | |        (GitHub Actions)         ------------------&gt;                 | |&#13;
| | +---------------------------------+ |             | | [E] task runner | |&#13;
| |   git push                          |   git pull  | |   (OliveTin)    | |&#13;
| +------------&gt;[blog repo]&lt;-----------------------------                 | |&#13;
|                    |                  |             | +--------|--------+ |&#13;
|                    |                  | new commits |          v          |&#13;
|                    +-------------------------------------&gt;[blog repo]     |&#13;
+---------------------------------------+             |          |          |&#13;
                                                      | +--------v-------+  |&#13;
                                                      | | [F] web server &lt;---- internet access&#13;
                                                      | |    (nginx)     |  |&#13;
                                                      | +----------------+  |&#13;
                                                      +---------------------+&#13;
```&#13;
&#13;
### Step [A], [B] and [C]&#13;
&#13;
These steps are all in help with or provided by [Gmeek](https://github.com/Meekdai/Gmeek) , the GitHub-based blog tool (Shout-out to this really amazing tool!).&#13;
&#13;
When I open or edit an issue, Gmeek will check if it's a valid issue for a blog post, then generate the corresponding static web files, push changes to current repository, finally deploy to GitHub page (github.io).&#13;
&#13;
After that, &lt;https://purple4pur.github.io/&gt; is ready for internet access. Here is where the previous flow ends.&#13;
&#13;
Check [`Gmeek.yml`](https://github.com/purple4pur/purple4pur.github.io/blob/main/.github/workflows/Gmeek.yml) for details.&#13;
&#13;
### Step [D]&#13;
&#13;
To automatically update the blog in remote, I add a new GitHub Actions workflow right after when [C] completes. In this workflow a POST request will be sent to the task runner hosted on my server, telling it to do a git pull on the server side, then check the command result returned from the server.&#13;
&#13;
Check [`pull_from_server.yaml`](https://github.com/purple4pur/purple4pur.github.io/blob/main/.github/workflows/pull_from_server.yaml) for details.&#13;
&#13;
### Step [E]&#13;
&#13;
Here is a task runner [(OliveTin)](https://github.com/OliveTin/OliveTin) that can run any predefined commands, with REST API provided. I have prepared a git work directory and a git pull command for it. So when this task is triggered, the local blog repository will fetch all changes from GitHub.&#13;
&#13;
### Step [F]&#13;
&#13;
A nginx server is hosting the local blog repo to provide internet access. What I didn't mention is the OliveTin instance and the nginx instance are all running in docker. So the tricky part here is they share a common volume to update or access the local repository.&#13;
&#13;
Check [docker compose file](https://github.com/purple4pur/docker_compose/blob/master/blog/compose.yaml) for details.&#13;
&#13;
### Conclusion&#13;
&#13;
This a my first time to try to connect all these services to do sequential jobs in such a workflow, and the results please me so well. Docker and the router Traefik actually make them much simpler and portable. I'm happy to take all-in-docker and continually having more fun with it.ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Blog%20Deployment%20Automation-%20ONE%20Post%2C%20TWO%20Sites.html</guid><pubDate>Thu, 12 Dec 2024 14:28:42 +0000</pubDate></item><item><title>Traefik Config Snippets</title><link>https://blog.quitw.org/post/Traefik%20Config%20Snippets.html</link><description>&gt; Apply to `traefik:v3.2`&#13;
&#13;
### Example traefik `compose.yaml`&#13;
&#13;
See [purple4pur/docker_compose](https://github.com/purple4pur/docker_compose/blob/master/traefik/compose.yaml) .&#13;
&#13;
### Example `traefik.yaml`&#13;
&#13;
```yaml&#13;
log:&#13;
  level: 'WARN'&#13;
api:&#13;
  dashboard: true&#13;
providers:&#13;
  docker:&#13;
    endpoint: 'unix:///var/run/docker.sock'&#13;
    exposedbydefault: false&#13;
entryPoints:&#13;
  web:&#13;
    address: ':80'&#13;
  websecure:&#13;
    address: ':443'&#13;
certificatesResolvers:&#13;
  cloudflare:&#13;
    acme:&#13;
      email: 'email@example.com'&#13;
      storage: '/letsencrypt/acme_cloudflare.json'&#13;
      dnsChallenge:&#13;
        provider: 'cloudflare'&#13;
        resolvers:&#13;
          - '8.8.8.8:53'&#13;
          - '1.1.1.1:53'&#13;
  myresolver:&#13;
    acme:&#13;
      email: 'email@example.com'&#13;
      storage: '/letsencrypt/acme.json'&#13;
      httpChallenge:&#13;
        entryPoint: 'web'&#13;
```&#13;
&#13;
### Route a https URL to an internal service on :8080&#13;
&#13;
```yaml&#13;
    ...&#13;
    labels:&#13;
      traefik.enable: true&#13;
      traefik.http.services.SERVICE_X.loadbalancer.server.port: '8080'&#13;
      traefik.http.routers.ROUTER_X.rule: '...'&#13;
      traefik.http.routers.ROUTER_X.entrypoints: 'websecure'&#13;
      traefik.http.routers.ROUTER_X.tls.certresolver: 'cloudflare'&#13;
      traefik.http.routers.ROUTER_X.service: 'SERVICE_X'&#13;
```&#13;
&#13;
### middleware: redirectregex&#13;
&#13;
Redirect `dashboard.hostname.com...` to `https://hostname.com/dashboard...`:&#13;
&#13;
```yaml&#13;
    ...&#13;
    labels:&#13;
      ...&#13;
      # define redirectregex&#13;
      traefik.http.middlewares.MIDDLEWARE_X.redirectregex.regex: '^(?:https?:\\/\\/)?dashboard\\.hostname\\.com(.*)'&#13;
      traefik.http.middlewares.MIDDLEWARE_X.redirectregex.replacement: 'https://hostname.com/dashboard$${1}'&#13;
      ...&#13;
      # use redirectregex&#13;
      traefik.http.routers.ROUTER_X.service: 'noop@internal' # avoid auto linking this middleware to other services&#13;
      traefik.http.routers.ROUTER_X.middlewares: 'MIDDLEWARE_X'&#13;
```&#13;
&#13;
### middleware: basicAuth&#13;
&#13;
```yaml&#13;
    ...&#13;
    labels:&#13;
      ...&#13;
      # define basicAuth&#13;
      traefik.http.middlewares.MIDDLEWARE_X.basicAuth.users: 'test:$apr1$7ij1g6q3$WiPOcMX6m/gWCC3kKP9kh0'&#13;
      ...&#13;
      # use basicAuth&#13;
      traefik.http.routers.ROUTER_X.middlewares: 'MIDDLEWARE_X'&#13;
```&#13;
&#13;
, where `users` field is Apache salted MD5 generated by `htpasswd`:&#13;
&#13;
```sh&#13;
htpasswd -n USERNAME&#13;
```ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Traefik%20Config%20Snippets.html</guid><pubDate>Wed, 11 Dec 2024 14:58:11 +0000</pubDate></item><item><title>Allow Non-superuser to Handle One's Application Container: Finding the Solution</title><link>https://blog.quitw.org/post/Allow%20Non-superuser%20to%20Handle%20One%27s%20Application%20Container-%20Finding%20the%20Solution.html</link><description>### Background&#13;
&#13;
A friend of mine is hosting a QQ bot [(Miao-Yunzai)](https://github.com/yoimiya-kokomi/Miao-Yunzai) on my VPS, and let's call him friendR here. Recently I'm switching the bot to my new VPS, and trying to host as much as possible services in docker in order to keep the host machine clean.&#13;
&#13;
After some experiments I can use my modified Dockerfile and compose file to invoke the bot in container as I want. The next challenge is to allow friendR to up/down the bot container and run `npm run app` in it, because he might restart the bot anytime he want and does not need my involvement.&#13;
&#13;
So my goals are:&#13;
&#13;
- **Security**: friendR should never be a superuser or in the docker group, or have any change to run arbitrary codes.&#13;
- **Independence**: friendR should independently up/down a specific container, or run specific commands in the container.&#13;
- **Volume run-through**: friendR should be able to modify bot related files bound into the container, easily.&#13;
&#13;
### Try#1: shell script w/ SUID&#13;
&#13;
With SUID bit one can run the executable as the owner. So my basic thinking is to place a simple shell script like `docker compose -f /path/to/compose.yaml up -d` into friendR's path, set its owner to superuser, and set file mode to `5750 (rwsr-x--T)`.&#13;
&#13;
But here are two problems. The greatest one is SUID bit will be ignored on shebang script, which means friendR still has no permission to call docker commands. The other one is also very critical to security, that is friendR can overwrite docker related files (Dockerfile, compose.yaml, etc.) because they are in his controlled directory.&#13;
&#13;
### Try#2: finite sudo permission&#13;
&#13;
I want to solve the permission issue first. I set the root owned `up.sh` to `0700 (rwx------)`, and allow friendR to sudo on this specific file (via `visudo`), so that he can call with `sudo ./up.sh`:&#13;
&#13;
```diff&#13;
+friendR ALL=(root) /path/to/up.sh&#13;
```&#13;
&#13;
Yeah it works, but the security issue is even more obvious: friendR can simply overwrite `up.sh` to run anything as superuser. That is crazy and is definitely not acceptable.&#13;
&#13;
A possible fix is to prepend the file hash to the file path in `sudoers`, while I think it's way too inflexible.&#13;
&#13;
### Try#3: binary command wrapper w/ SUID (This works!)&#13;
&#13;
During the research of Try#1, I noticed a [Stack Overflow answer](https://unix.stackexchange.com/a/369) saying that one may write a script wrapper to call the shell to grant other user the superuser permission.&#13;
&#13;
I tried the C programming and quickly found the first issue: `system()` is to start a new process to run the following command, but not using the euid (Effective UID, influenced by SUID). That means friendR will not have permissions to call docker commands when he invokes the compiled binary.&#13;
&#13;
I didn't dive deep into how `system()` works with UID, because later I found using `exec()` can get rid of this issue. `exec()` is to replace current process with its argument command, which inherits process' euid.&#13;
&#13;
In this way, I just copy the binaries to friendR's directory and set mode to `4750 (rwsr-x---)`, then friendR can call them to invoke hard-coded docker commands.&#13;
&#13;
### Bonus: complex commands wrapper workaround&#13;
&#13;
One thing I didn't mention in Try#3 is actually the euid mechanism failed when I called `./up.sh` or `bash ./up.sh` with `exec()`. Somehow it might be also a security guard.&#13;
&#13;
An enhancement to invoke `npm run app` in the container I want to achieve is to check if there's already a running process before starting the app. I wrote this check using shell script and finally realized I could hardly run the whole script in a single `exec()` calling.&#13;
&#13;
Before my giving up suddenly it hit me that it's way easier to do this check inside the container, instead of using `docker compose top` outside. So I just leave a script calling to `docker exec`, and finish the rest of jobs inside the container.&#13;
&#13;
```c&#13;
// run_app.c&#13;
execlp('docker', 'docker', 'compose', '-f', '/path/to/compose.yaml', 'exec', '-it', 'miao-yunzai', './run_app.sh', (char *)NULL);&#13;
```&#13;
&#13;
```bash&#13;
# run_app.sh&#13;
if [[ '$(ps -aux | grep 'npm run app' | grep -v grep)' != '' ]]; then&#13;
    echo 'app is already running! will not start a 2nd one.'&#13;
    exit 1&#13;
fi&#13;
echo '&gt; npm run app'&#13;
npm run app&#13;
```&#13;
&#13;
### Final solution&#13;
&#13;
To keep it secured, all the docker related files are placed in my directory. Bot needed files are placed in friendR's directory, and bound into the container.&#13;
&#13;
C docker wrappers and simple Makefile:&#13;
&#13;
```c&#13;
// up.c as an example&#13;
#include &lt;unistd.h&gt;&#13;
&#13;
int main() {&#13;
    execlp('docker', 'docker', 'compose', '-f', '/path/to/compose.yaml', 'up', '-d', (char *)NULL);&#13;
    return 0;&#13;
}&#13;
```&#13;
&#13;
```makefile&#13;
# Makefile&#13;
# usage: make -B&#13;
&#13;
all: $(patsubst %.c,%,$(wildcard *.c))&#13;
&#13;
%: %.c&#13;
	gcc $&lt; -o $@&#13;
	sudo cp $@ /home/friendR/Miao-Yunzai&#13;
	sudo chown root:friendR /home/friendR/Miao-Yunzai/$@&#13;
	sudo chmod 4750 /home/friendR/Miao-Yunzai/$@&#13;
```&#13;
&#13;
### Conclusion&#13;
&#13;
After a few days of work finally it's solved. Providing a command wrapper in binary seems the only safe way to support this kinda crazy goal: letting non-superuser to manipulate docker while keep any other thing non-privileged.&#13;
&#13;
It's hard to say this is a elegant solution but it works and, not too ugly I think? This can also be a useful reference whenever there's a similar scenario.ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Allow%20Non-superuser%20to%20Handle%20One%27s%20Application%20Container-%20Finding%20the%20Solution.html</guid><pubDate>Thu, 05 Dec 2024 08:42:00 +0000</pubDate></item><item><title>Linux File Permissions</title><link>https://blog.quitw.org/post/Linux%20File%20Permissions.html</link><description>### Quick reference&#13;
&#13;
```&#13;
| type | [u]ser  | [g]roup | [o]thers |&#13;
| ---- |  - - -  |  - - -  |  - - -   | # Regular permissions&#13;
|    - |  r      |  r      |  r       |   - can be read&#13;
|    - |    w    |    w    |    w     |   - can be modified&#13;
|    - |      x  |      x  |      x   |   - can be executed&#13;
|    d |  r      |  r      |  r       |   - contents can be shown&#13;
|    d |      x  |      x  |      x   |   - can be accessed with 'cd'&#13;
|    d |    w x  |    w x  |    w x   |   - contents can be modified&#13;
| ---- |  - - -  |  - - -  |  - - -   | # Special permissions&#13;
|  -/d |      s  |         |          |   - setuid w/ 'x'&#13;
|    - |      S  |         |          |   - setuid w/o 'x' (rare)&#13;
|    d |      S  |         |          |   - (useless)&#13;
|  -/d |         |      s  |          |   - setgid w/ 'x'&#13;
|    - |         |      S  |          |   - setgid w/o 'x' (rare)&#13;
|    d |         |      S  |          |   - (useless)&#13;
|  -/d |         |         |      t   |   - sticky w/ 'x'&#13;
|    - |         |         |      T   |   - sticky w/o 'x' (rare)&#13;
|    d |         |         |      T   |   - sticky w/o 'x'&#13;
```&#13;
&#13;
### Setuid (SUID)&#13;
&#13;
&gt; `stat = 4---`&#13;
&#13;
Would be executed **as the file owner**. Useless on shebang scripts (for safety).&#13;
&#13;
- **/usr/bin/passwd**: `-rwsr-xr-x root root`&#13;
&#13;
### Setgid (SGID)&#13;
&#13;
&gt; `stat = 2---`&#13;
&#13;
Files/Directories created within the folder or by the file will **have the same group ownership** as it, and inherit this SGID bit.&#13;
&#13;
### Sticky&#13;
&#13;
&gt; `stat = 1---`&#13;
&#13;
Not allowed to be removed.&#13;
&#13;
- **/tmp**: `drwxrwxrwt root root`&#13;
&#13;
### Appendix: links&#13;
&#13;
- [[File permissions and attributes - ArchWiki]](https://wiki.archlinux.org/title/File_permissions_and_attributes)&#13;
- [[setuid - Wikipedia]](https://en.wikipedia.org/wiki/Setuid)&#13;
- [[Sticky bit - Wikipedia]](https://en.wikipedia.org/wiki/Sticky_bit)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Linux%20File%20Permissions.html</guid><pubDate>Thu, 21 Nov 2024 17:04:10 +0000</pubDate></item><item><title>Welcome, My New VPS!</title><link>https://blog.quitw.org/post/Welcome%2C%20My%20New%20VPS%21.html</link><description>### General info

- Vendor: Tencent Cloud
- åœ°åŸŸå’Œå¯ç”¨åŒº: ä¸œäº¬ | ä¸œäº¬ä¸€åŒº
- å¥—é¤ç±»å‹: å…¥é—¨å‹
- å®ä¾‹è§„æ ¼:
    - CPU - 2æ ¸
    - å†…å­˜ - 2GB
    - ç³»ç»Ÿç›˜ - SSDäº‘ç¡¬ç›˜ 50GB
    - æµé‡åŒ… - 1024GB/æœˆï¼ˆå³°å€¼å¸¦å®½ï¼š30Mbpsï¼‰
- Price: 99CNY for 1Yr

### VPS all-in-one test

&lt;https://github.com/spiritLHLS/ecs&gt;

&lt;details&gt;&lt;summary&gt;Results&lt;/summary&gt;

```
--------------------- A Bench Script By spiritlhl ----------------------
                   æµ‹è¯„é¢‘é“: https://t.me/vps_reviews
VPSèåˆæ€ªç‰ˆæœ¬ï¼š2024.11.08
Shellé¡¹ç›®åœ°å€ï¼šhttps://github.com/spiritLHLS/ecs
Goé¡¹ç›®åœ°å€ï¼šhttps://github.com/oneclickvirt/ecs
---------------------åŸºç¡€ä¿¡æ¯æŸ¥è¯¢--æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®---------------------
 CPU å‹å·          : Intel(R) Xeon(R) Gold 6146 CPU @ 3.20GHz
 CPU æ ¸å¿ƒæ•°        : 2
 CPU é¢‘ç‡          : 3192.500 MHz
 CPU ç¼“å­˜          : L1: 64.00 KB / L2: 8.00 MB / L3: 27.50 MB
 AES-NIæŒ‡ä»¤é›†      : âœ” Enabled
 VM-x/AMD-Væ”¯æŒ    : âŒ Disabled
 å†…å­˜              : 300.93 MiB / 1.80 GiB
 Swap              : [ no swap partition or swap file detected ]
 ç¡¬ç›˜ç©ºé—´          : 2.24 GiB / 49.10 GiB
 å¯åŠ¨ç›˜è·¯å¾„        : /dev/vda1
 ç³»ç»Ÿåœ¨çº¿æ—¶é—´      : 0 days, 4 hour 51 min
 è´Ÿè½½              : 0.50, 0.19, 0.08
 ç³»ç»Ÿ              : Debian GNU/Linux 12 (bookworm) (x86_64)
 æ¶æ„              : x86_64 (64 Bit)
 å†…æ ¸              : 6.1.0-26-amd64
 TCPåŠ é€Ÿæ–¹å¼       : cubic
 è™šæ‹ŸåŒ–æ¶æ„        : KVM
 NATç±»å‹           : Port Restricted Cone
 IPV4 ASN          : AS132203 Tencent Building, Kejizhongyi Avenue
 IPV4 ä½ç½®         : Tokyo / Tokyo / JP
----------------------CPUæµ‹è¯•--é€šè¿‡sysbenchæµ‹è¯•-------------------------
 -&gt; CPU æµ‹è¯•ä¸­ (Fast Mode, 1-Pass @ 5sec)
 1 çº¿ç¨‹æµ‹è¯•(å•æ ¸)å¾—åˆ†:          1022 Scores
 2 çº¿ç¨‹æµ‹è¯•(å¤šæ ¸)å¾—åˆ†:          1975 Scores
---------------------å†…å­˜æµ‹è¯•--æ„Ÿè°¢lemonbenchå¼€æº-----------------------
 -&gt; å†…å­˜æµ‹è¯• Test (Fast Mode, 1-Pass @ 5sec)
 å•çº¿ç¨‹è¯»æµ‹è¯•:          22664.25 MB/s
 å•çº¿ç¨‹å†™æµ‹è¯•:          14543.86 MB/s
------------------ç£ç›˜ddè¯»å†™æµ‹è¯•--æ„Ÿè°¢lemonbenchå¼€æº--------------------
 -&gt; ç£ç›˜IOæµ‹è¯•ä¸­ (4K Block/1M Block, Direct Mode)
 æµ‹è¯•æ“ä½œ               å†™é€Ÿåº¦                                  è¯»é€Ÿåº¦
 100MB-4K Block         4.8 MB/s (1171 IOPS, 21.85s)            10.5 MB/s (2553 IOPS, 10.03s)
 1GB-1M Block           127 MB/s (121 IOPS, 8.23s)              267 MB/s (254 IOPS, 3.93s)
---------------------ç£ç›˜fioè¯»å†™æµ‹è¯•--æ„Ÿè°¢yabså¼€æº----------------------
Block Size | 4k            (IOPS) | 64k           (IOPS)
  ------   | ---            ----  | ----           ----
Read       | 65.65 MB/s   (16.4k) | 286.13 MB/s   (4.4k)
Write      | 65.79 MB/s   (16.4k) | 287.64 MB/s   (4.4k)
Total      | 131.45 MB/s  (32.8k) | 573.77 MB/s   (8.9k)
           |                      |
Block Size | 512k          (IOPS) | 1m            (IOPS)
  ------   | ---            ----  | ----           ----
Read       | 265.10 MB/s    (517) | 258.28 MB/s    (252)
Write      | 279.18 MB/s    (545) | 275.48 MB/s    (269)
Total      | 544.29 MB/s   (1.0k) | 533.76 MB/s    (521)
------------æµåª’ä½“è§£é”--åŸºäºoneclickvirt/CommonMediaTestså¼€æº-----------
ä»¥ä¸‹æµ‹è¯•çš„è§£é”åœ°åŒºæ˜¯å‡†ç¡®çš„ï¼Œä½†æ˜¯ä¸æ˜¯å®Œæ•´è§£é”çš„åˆ¤æ–­å¯èƒ½æœ‰è¯¯ï¼Œè¿™æ–¹é¢ä»…ä½œå‚è€ƒä½¿ç”¨
----------------Netflix-----------------
[IPV4]
æ‚¨çš„å‡ºå£IPå¯ä»¥ä½¿ç”¨Netflixï¼Œä½†ä»…å¯çœ‹Netflixè‡ªåˆ¶å‰§
NFæ‰€è¯†åˆ«çš„IPåœ°åŸŸä¿¡æ¯ï¼šæ–°åŠ å¡
[IPV6]
æ‚¨çš„ç½‘ç»œå¯èƒ½æ²¡æœ‰æ­£å¸¸é…ç½®IPv6ï¼Œæˆ–è€…æ²¡æœ‰IPv6ç½‘ç»œæ¥å…¥
----------------Youtube-----------------
[IPV4]
è¿æ¥æ–¹å¼: Youtube Video Server
è§†é¢‘ç¼“å­˜èŠ‚ç‚¹åœ°åŸŸ: æ—¥æœ¬ ä¸œäº¬(NRT12S24)
Youtubeè¯†åˆ«åœ°åŸŸ: æ—¥æœ¬(JP)
[IPV6]
Youtubeåœ¨æ‚¨çš„å‡ºå£IPæ‰€åœ¨çš„å›½å®¶ä¸æä¾›æœåŠ¡
---------------DisneyPlus---------------
[IPV4]
å½“å‰å‡ºå£æ‰€åœ¨åœ°åŒºè§£é”DisneyPlus
åŒºåŸŸï¼šJP åŒº
[IPV6]
DisneyPlusåœ¨æ‚¨çš„å‡ºå£IPæ‰€åœ¨çš„å›½å®¶ä¸æä¾›æœåŠ¡
è§£é”Netflixï¼ŒYoutubeï¼ŒDisneyPlusä¸Šé¢å’Œä¸‹é¢è¿›è¡Œæ¯”è¾ƒï¼Œä¸åŒä¹‹å¤„è‡ªè¡Œåˆ¤æ–­
----------------æµåª’ä½“è§£é”--æ„Ÿè°¢RegionRestrictionCheckå¼€æº--------------
 ä»¥ä¸‹ä¸ºIPV4ç½‘ç»œæµ‹è¯•ï¼Œè‹¥æ— IPV4ç½‘ç»œåˆ™æ— è¾“å‡º
============[ Multination ]============
 Dazn:                                  Yes (Region: JP)
 Disney+:                               No (IP Banned By Disney+ 1)
 Netflix:                               Originals Only
 YouTube Premium:                       Yes (Region: JP)
 Amazon Prime Video:                    Yes (Region: JP)
 TVBAnywhere+:                          Yes
 Spotify Registration:                  Yes (Region: JP)
 Instagram Licensed Audio:              No
 OneTrust Region:                       JP [Tokyo]
 iQyi Oversea Region:                   JP
 Bing Region:                           JP
 YouTube CDN:                           Tokyo
 Netflix Preferred CDN:                 Tokyo
 ChatGPT:                               No (Only Available with Web Browser)
 Google Gemini:                         Yes (Region: JPN)
 Wikipedia Editability:                 No
 Google Search CAPTCHA Free:            Yes
 Steam Currency:                        JPY
 ---Forum---
 Reddit:                                No
=======================================
 ä»¥ä¸‹ä¸ºIPV6ç½‘ç»œæµ‹è¯•ï¼Œè‹¥æ— IPV6ç½‘ç»œåˆ™æ— è¾“å‡º
---------------TikTokè§£é”--æ„Ÿè°¢lmc999çš„æºè„šæœ¬åŠfscarmen PR--------------
 Tiktok Region:         ã€JPã€‘
-------------IPè´¨é‡æ£€æµ‹--åŸºäºoneclickvirt/securityCheckä½¿ç”¨-------------
æ•°æ®ä»…ä½œå‚è€ƒï¼Œä¸ä»£è¡¨100%å‡†ç¡®ï¼Œå¦‚æœå’Œå®é™…æƒ…å†µä¸ä¸€è‡´è¯·æ‰‹åŠ¨æŸ¥è¯¢å¤šä¸ªæ•°æ®åº“æ¯”å¯¹
ä»¥ä¸‹ä¸ºå„æ•°æ®åº“ç¼–å·ï¼Œè¾“å‡ºç»“æœåå°†è‡ªå¸¦æ•°æ®åº“æ¥æºå¯¹åº”çš„ç¼–å·
ipinfoæ•°æ®åº“  [0] | scamalyticsæ•°æ®åº“ [1] | virustotalæ•°æ®åº“   [2] | abuseipdbæ•°æ®åº“   [3] | ip2locationæ•°æ®åº“    [4]
ip-apiæ•°æ®åº“  [5] | ipwhoisæ•°æ®åº“     [6] | ipregistryæ•°æ®åº“   [7] | ipdataæ•°æ®åº“      [8] | db-ipæ•°æ®åº“          [9]
ipapiisæ•°æ®åº“ [A] | ipapicomæ•°æ®åº“    [B] | bigdatacloudæ•°æ®åº“ [C] | cheervisionæ•°æ®åº“ [D] | ipqualityscore æ•°æ®åº“ [E]
IPV4:
å®‰å…¨å¾—åˆ†:
å£°èª‰(è¶Šé«˜è¶Šå¥½): 0 [2]
ä¿¡ä»»å¾—åˆ†(è¶Šé«˜è¶Šå¥½): 0 [8]
VPNå¾—åˆ†(è¶Šä½è¶Šå¥½): 100 [8]
ä»£ç†å¾—åˆ†(è¶Šä½è¶Šå¥½): 100 [8]
ç¤¾åŒºæŠ•ç¥¨-æ— å®³: 0 [2]
ç¤¾åŒºæŠ•ç¥¨-æ¶æ„: 0 [2]
å¨èƒå¾—åˆ†(è¶Šä½è¶Šå¥½): 100 [8]
æ¬ºè¯ˆå¾—åˆ†(è¶Šä½è¶Šå¥½): 0 [1] 65 [E]
æ»¥ç”¨å¾—åˆ†(è¶Šä½è¶Šå¥½): 0 [3]
ASNæ»¥ç”¨å¾—åˆ†(è¶Šä½è¶Šå¥½): 0.0031 (Low) [A]
å…¬å¸æ»¥ç”¨å¾—åˆ†(è¶Šä½è¶Šå¥½): 0.0133 (Elevated) [A]
å¨èƒçº§åˆ«: low [9 B]
é»‘åå•è®°å½•ç»Ÿè®¡:(æœ‰å¤šå°‘é»‘åå•ç½‘ç«™æœ‰è®°å½•):
æ— å®³è®°å½•æ•°: 0 [2]  æ¶æ„è®°å½•æ•°: 0 [2]  å¯ç–‘è®°å½•æ•°: 0 [2]  æ— è®°å½•æ•°: 94 [2]
å®‰å…¨ä¿¡æ¯:
ä½¿ç”¨ç±»å‹: hosting [0 7 9 A] business [8] hosting - high probability [C] DataCenter/WebHosting/Transit [3]
å…¬å¸ç±»å‹: business [A] hosting [0 7]
æ˜¯å¦äº‘æä¾›å•†: Yes [7 D]
æ˜¯å¦æ•°æ®ä¸­å¿ƒ: Yes [0 1 5 6 A C] No [8]
æ˜¯å¦ç§»åŠ¨è®¾å¤‡: Yes [E] No [5 A C]
æ˜¯å¦ä»£ç†: Yes [E] No [0 1 4 5 6 7 8 9 A B C D]
æ˜¯å¦VPN: Yes [0 A E] No [1 6 7 C D]
æ˜¯å¦Tor: No [0 1 3 6 7 8 A B C D E]
æ˜¯å¦Torå‡ºå£: No [1 7 D]
æ˜¯å¦ç½‘ç»œçˆ¬è™«: No [9 A B E]
æ˜¯å¦åŒ¿å: No [1 6 7 D] Yes [8]
æ˜¯å¦æ”»å‡»è€…: No [7 8 D]
æ˜¯å¦æ»¥ç”¨è€…: No [7 8 A C D E]
æ˜¯å¦å¨èƒ: No [7 8 C D]
æ˜¯å¦ä¸­ç»§: No [0 7 8 C D]
æ˜¯å¦Bogon: No [7 8 A C D]
æ˜¯å¦æœºå™¨äºº: No [E]
DNS-é»‘åå•: 314(Total_Check) 0(Clean) 5(Blacklisted) 15(Other)
Googleæœç´¢å¯è¡Œæ€§ï¼šYES
-------------é‚®ä»¶ç«¯å£æ£€æµ‹--åŸºäºoneclickvirt/portcheckerå¼€æº-------------
Platform  SMTP  SMTPS POP3  POP3S IMAP  IMAPS
LocalPort âœ”     âœ”     âœ”     âœ”     âœ”     âœ”
QQ        âœ˜     âœ”     âœ”     âœ˜     âœ”     âœ˜
163       âœ˜     âœ”     âœ”     âœ˜     âœ”     âœ˜
Sohu      âœ˜     âœ”     âœ”     âœ˜     âœ”     âœ˜
Yandex    âœ˜     âœ”     âœ”     âœ˜     âœ”     âœ˜
Gmail     âœ˜     âœ”     âœ˜     âœ˜     âœ˜     âœ˜
Outlook   âœ˜     âœ˜     âœ”     âœ˜     âœ”     âœ˜
Office365 âœ˜     âœ˜     âœ”     âœ˜     âœ”     âœ˜
Yahoo     âœ˜     âœ”     âœ˜     âœ˜     âœ˜     âœ˜
MailCOM   âœ˜     âœ”     âœ”     âœ˜     âœ”     âœ˜
MailRU    âœ˜     âœ”     âœ˜     âœ˜     âœ”     âœ˜
AOL       âœ˜     âœ”     âœ˜     âœ˜     âœ˜     âœ˜
GMX       âœ˜     âœ˜     âœ”     âœ˜     âœ”     âœ˜
Sina      âœ˜     âœ˜     âœ”     âœ˜     âœ”     âœ˜
----------------ä¸‰ç½‘å›ç¨‹--åŸºäºoneclickvirt/backtraceå¼€æº----------------
åŒ—äº¬ç”µä¿¡ 219.141.140.10  æ£€æµ‹ä¸åˆ°å›ç¨‹è·¯ç”±èŠ‚ç‚¹çš„IPåœ°å€
åŒ—äº¬è”é€š 202.106.195.68  è”é€š4837   [æ™®é€šçº¿è·¯]
åŒ—äº¬ç§»åŠ¨ 221.179.155.161 ç§»åŠ¨CMI    [æ™®é€šçº¿è·¯]
ä¸Šæµ·ç”µä¿¡ 202.96.209.133  æ£€æµ‹ä¸åˆ°å›ç¨‹è·¯ç”±èŠ‚ç‚¹çš„IPåœ°å€
ä¸Šæµ·è”é€š 210.22.97.1     è”é€š4837   [æ™®é€šçº¿è·¯]
ä¸Šæµ·ç§»åŠ¨ 211.136.112.200 æ£€æµ‹ä¸åˆ°å›ç¨‹è·¯ç”±èŠ‚ç‚¹çš„IPåœ°å€
å¹¿å·ç”µä¿¡ 58.60.188.222   æ£€æµ‹ä¸åˆ°å›ç¨‹è·¯ç”±èŠ‚ç‚¹çš„IPåœ°å€
å¹¿å·è”é€š 210.21.196.6    è”é€š4837   [æ™®é€šçº¿è·¯]
å¹¿å·ç§»åŠ¨ 120.196.165.24  ç§»åŠ¨CMI    [æ™®é€šçº¿è·¯]
æˆéƒ½ç”µä¿¡ 61.139.2.69     æ£€æµ‹ä¸åˆ°å›ç¨‹è·¯ç”±èŠ‚ç‚¹çš„IPåœ°å€
æˆéƒ½è”é€š 119.6.6.6       è”é€š4837   [æ™®é€šçº¿è·¯]
æˆéƒ½ç§»åŠ¨ 211.137.96.205  ç§»åŠ¨CMI    [æ™®é€šçº¿è·¯]
å‡†ç¡®çº¿è·¯è‡ªè¡ŒæŸ¥çœ‹è¯¦ç»†è·¯ç”±ï¼Œæœ¬æµ‹è¯•ç»“æœä»…ä½œå‚è€ƒ
åŒä¸€ç›®æ ‡åœ°å€å¤šä¸ªçº¿è·¯æ—¶ï¼Œå¯èƒ½æ£€æµ‹å·²è¶Šè¿‡æ±‡èšå±‚ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªçº¿è·¯å¤–ï¼Œåç»­ä¿¡æ¯å¯èƒ½æ— æ•ˆ
---------------------å›ç¨‹è·¯ç”±--æ„Ÿè°¢fscarmenå¼€æºåŠPR---------------------
ä¾æ¬¡æµ‹è¯•ç”µä¿¡/è”é€š/ç§»åŠ¨ç»è¿‡çš„åœ°åŒºåŠçº¿è·¯ï¼Œæ ¸å¿ƒç¨‹åºæ¥è‡ªipip.netæˆ–nexttraceï¼Œè¯·çŸ¥æ‚‰!
å¹¿å·ç”µä¿¡ 58.60.188.222
0.56 ms         * RFC1918
51.64 ms        * RFC1918
1.04 ms         AS2516 [KDDI] æ—¥æœ¬ ä¸œäº¬éƒ½ ä¸œäº¬ kddi.com
1.30 ms         AS2516 [KDDI] æ—¥æœ¬ ä¸œäº¬éƒ½ ä¸œäº¬ kddi.com
2.13 ms         AS2516 [KDDI] æ—¥æœ¬ ä¸œäº¬éƒ½ ä¸œäº¬ kddi.com
8.56 ms         AS2516 [KDDI] æ—¥æœ¬ å¤§é˜ªåºœ å¤§é˜ªå¸‚ kddi.com
9.97 ms         AS2516 [KDDI] æ—¥æœ¬ å¤§é˜ªåºœ å¤§é˜ªå¸‚ kddi.com
7.90 ms         AS2516 [KDDI] æ—¥æœ¬ å¤§é˜ªåºœ å¤§é˜ª kddi.com
* ms    AS2516 [APNIC-AP] ä¸­å›½ ä¸Šæµ· KDDI-CT-Peer kddi.com
* ms    AS4134 [CHINANET-BB] ä¸­å›½ å¹¿ä¸œ å¹¿å· www.chinatelecom.com.cn
* ms    AS4134 ä¸­å›½ å¹¿ä¸œ æ·±åœ³ ç¦ç”°åŒº www.chinatelecom.com.cn ç”µä¿¡
å¹¿å·è”é€š 210.21.196.6

å¹¿å·ç§»åŠ¨ 120.196.165.24

--------------------è‡ªåŠ¨æ›´æ–°æµ‹é€ŸèŠ‚ç‚¹åˆ—è¡¨--æœ¬è„šæœ¬åŸåˆ›--------------------
ä½ç½®             ä¸Šä¼ é€Ÿåº¦        ä¸‹è½½é€Ÿåº¦        å»¶è¿Ÿ     ä¸¢åŒ…ç‡
Speedtest.net    29.19 Mbps      224.88 Mbps     1.28     0.0%
æ—¥æœ¬ä¸œäº¬         29.75 Mbps      126.26 Mbps     1.10     NULL
ä¸­å›½é¦™æ¸¯         29.79 Mbps      226.47 Mbps     50.12    0.0%
è”é€šWuXi         26.51 Mbps      20.04 Mbps      213.37   16.8%
ç”µä¿¡Suzhou5G     29.04 Mbps      6.23 Mbps       276.79   NULL
ç§»åŠ¨Beijing      30.67 Mbps      252.70 Mbps     99.08    NULL
------------------------------------------------------------------------
 æ€»å…±èŠ±è´¹      : 7 åˆ† 24 ç§’
 æ—¶é—´          : Sun Nov 17 20:58:43 CST 2024
------------------------------------------------------------------------
  çŸ­é“¾:
    https://paste.spiritlhl.net/code/kqiPsk.txt
    http://hpaste.spiritlhl.net/code/kqiPsk.txt
```

&lt;/details&gt;

### Setup actions

- Enlarge ssh timeout setting:

```sh
(root) vim /etc/ssh/sshd_config
```

```diff
-#ClientAliveInterval 0
-#ClientAliveCountMax 3
+ClientAliveInterval 120
+ClientAliveCountMax 30
```

```sh
(root) systemctl restart ssh
```

- Add user and grant sudo:

```sh
(root) adduser purple4pur # interactive
(root) groupadd njupt
(root) usermod -aG njupt purple4pur
getent group njupt
(root) EDITOR=vim visudo
```

```diff
+purple4pur ALL=(ALL) ALL
```

- Install tools:

[[Installing CLI Tools I Use on Debian/Linux]](/post/Installing%20CLI%20Tools%20I%20Use%20on%20Debian-Linux.html)

- Initialize dotfiles:

```sh
bin/chezmoi init --apply https://github.com/purple4pur/dotfiles.git
vim .bashrc
```

```diff
+export PATH=$($HOME/custom_scripts/prepend-path $HOME/bin $HOME/opt/nvim-linux64/bin)
+export EDITOR=nvim
+alias v='nvim'
+source ~/.config/.bash_setup
```

```sh
source .bashrc
```

- Good to go!ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Welcome%2C%20My%20New%20VPS%21.html</guid><pubDate>Mon, 18 Nov 2024 17:42:17 +0000</pubDate></item><item><title>Docker CLI Cheat Sheet</title><link>https://blog.quitw.org/post/Docker%20CLI%20Cheat%20Sheet.html</link><description>### Dockerfile

- [[Docker 101]](https://dockerlabs.collabnix.com/workshop/docker/)
- [[Dockerfile reference]](https://docs.docker.com/reference/dockerfile/)

### docker build

```sh
docker build -t IMAGE[:TAG] . # build image from in-place Dockerfile
```

### docker run

```sh
docker run [OPTIONS] IMAGE[:TAG] [CMD] # run a container from image (and run the command)
           -d                          # detached mode
           -it                         # invoke an interactive tty
           -P                          # publish all EXPOSE ports
           -p HOST_PORT:CONTAINER_PORT # map a container port to docker host
           -v VOLUME:CONTAINER_PATH    # mount volume on container path
           --network NETWORK           # connect to a network
           --name CONTAINER            # name the container
           --rm                        # one-off mode, auto remove from docker ps after exited
           --pull always               # always pull the latest image
```

### docker attach

```sh
docker attach [OPTIONS] CONTAINER # attach to a detached container
              --detach-keys=KEYS  # assign a detach key like ctrl-b
```

To detach from a running container: press detach keys, default is `ctrl-p`+`ctrl-q`.

### docker exec

```sh
docker exec [OPTIONS] CONTAINER CMD # run the command in a running container
            -t                      # run in tty then exit
            -it                     # run in an interactive tty
```

### docker ps

```sh
docker ps [OPTIONS] # list all running containers
          -a        # list all recorded containers (running/paused/exited)
          -q        # quiet mode, container_id only
```

### docker inspect

```sh
docker inspect DOCKER_OBJECT # print object info in json format
                             #  - image
                             #  - container
                             #  - volume
                             #  - network
```

### docker image

```sh
docker build ...                           # build a new image
docker images [FILTER]                     # list all images, alias of docker image ls
docker pull IMAGE[:TAG]                    # pull an image from docker hub
docker tag IMAGE[:TAG] NEW_IMAGE[:NEW_TAG] # rename an image
docker image rm [-f] IMAGE                 # remove an image
docker image prune -a                      # remove all unused images
docker history IMAGE[:TAG]                 # print how the image was built
```

### docker container

`CONTAINER` can be container_id (short-form OK) or container_name.

```sh
docker run ...                  # new a container
docker ps ...                   # list container status
docker stop CONTAINER           # as it says
docker kill CONTAINER           # as it says
docker start/restart CONTAINER  # as it says
docker pause/unpause CONTAINER  # as it says
docker logs [OPTIONS] CONTAINER # print stdout of container
            -f                  # follow mode
            -n N                # only tail N lines
docker port CONTAINER [PORT]    # show port mapping info
docker rm [-f] CONTAINER        # remove record from docker ps
docker rm $(docker ps -aq)      # remove all records from docker ps
```

### docker volume

```sh
docker volume create VOLUME             # create a volume
docker volume ls                        # list all volumes
docker volume rm [-f] VOLUME            # remove a volume
docker volume rm $(docker volume ls -q) # remove all volumes
```

### docker network

Network has multiple types (a.k.a. drivers) [[Reference]](https://docs.docker.com/engine/network/#drivers) :

- **bridge**: communicate among containers only, publish specific ports to docker host, the default type.
- **host**: directly expose on host machine, publish options are ignored.
- **null**: no network provided.

```sh
docker network create -d DRIVER NETWORK     # create a network of specific type
docker network ls                           # list all networks
docker network connect NETWORK CONTAINER    # connect a network to container
docker network disconnect NETWORK CONTAINER # disconnect a network to container
docker network rm NETWORK                   # remove a network
```

### docker system

```sh
docker system df              # list all disk usage
docker system prune [OPTIONS] # the BEST way to clean up unused resources
                    -a        # with all unused images
                    --volumes # with anonymous volumes
```

### docker compose

- [[Docker compose 101]](https://dockerlabs.collabnix.com/intermediate/workshop/)
- [[compose.yaml reference]](https://docs.docker.com/reference/compose-file/)

- A `compose.yaml` file is wanted in working directory.
- `service` in compose is equivalent to `container`.

```sh
docker compose config                       # print info of in-place compose.yaml
docker compose build                        # build images defined in compose.yaml
docker compose up [OPTIONS]                 # start current compose
                  -d                        # detached mode
                  --build                   # rebuild images (if needed) then restart
                  --no-start                # create services only but don't start
                  --pull always             # always pull the latest image
docker compose down [OPTIONS]               # the BEST way to stop compose
                    -v                      # also remove created volumes
                    --rmi local|all         # also remove local built images by current compose / all built and pulled images
docker compose images                       # list images used by current compose
docker compose ps [-a] [-q] [--services]    # list services used by current compose
docker compose start/stop/restart [SERVICE] # as it says
docker compose pause/unpause [SERVICE]      # as it says
docker compose kill [SERVICE]               # as it says
docker compose logs [-f] [-n N] [SERVICE]   # print/follow stdout in service
docker compose run SERVICE CMD              # run a one-time command in a new service, not the running one
docker compose rm [OPTIONS] [SERVICE]       # remove stopped service from ps
                  -s                        # stop and remove
```ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Docker%20CLI%20Cheat%20Sheet.html</guid><pubDate>Mon, 18 Nov 2024 17:17:14 +0000</pubDate></item><item><title>Installing CLI Tools I Use on Debian/Linux</title><link>https://blog.quitw.org/post/Installing%20CLI%20Tools%20I%20Use%20on%20Debian-Linux.html</link><description>### git&#13;
&#13;
```sh&#13;
(root) apt update&#13;
(root) apt install git&#13;
```&#13;
&#13;
### chezmoi&#13;
&#13;
[[Official installation guide]](https://www.chezmoi.io/install/#one-line-binary-install)&#13;
&#13;
```sh&#13;
sh -c '$(curl -fsLS get.chezmoi.io)' # install to $HOME/bin&#13;
```&#13;
&#13;
### starship&#13;
&#13;
[[Official installation guide]](https://starship.rs/guide/#step-1-install-starship)&#13;
&#13;
```sh&#13;
(root) curl -sS https://starship.rs/install.sh | sh # install to /usr/local/bin&#13;
```&#13;
&#13;
### neovim&#13;
&#13;
[[Official installation guide]](https://github.com/neovim/neovim/blob/master/INSTALL.md#pre-built-archives-1)&#13;
&#13;
```sh&#13;
curl -LO https://github.com/neovim/neovim/releases/latest/download/nvim-linux64.tar.gz&#13;
mkdir $HOME/opt&#13;
rm $HOME/opt/nvim-linux64 -rf # remove old version&#13;
tar -C $HOME/opt -xzf nvim-linux64.tar.gz # install to $HOME/opt/nvim-linux64/bin&#13;
rm nvim-linux64.tar.gz&#13;
```&#13;
&#13;
### fd&#13;
&#13;
[[Github]](https://github.com/sharkdp/fd)&#13;
&#13;
```sh&#13;
(root) apt update&#13;
(root) apt install fd-find&#13;
(root) ln -sf /usr/bin/fdfind /usr/bin/fd&#13;
```&#13;
&#13;
### rg&#13;
&#13;
[[Github]](https://github.com/BurntSushi/ripgrep)&#13;
&#13;
```sh&#13;
(root) apt update&#13;
(root) apt install ripgrep&#13;
```&#13;
&#13;
### docker&#13;
&#13;
[[Official installation guide]](https://docs.docker.com/engine/install/debian/#install-using-the-repository)&#13;
&#13;
```sh&#13;
# Add Docker's official GPG key:&#13;
sudo apt-get update&#13;
sudo apt-get install ca-certificates curl&#13;
sudo install -m 0755 -d /etc/apt/keyrings&#13;
sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc&#13;
sudo chmod a+r /etc/apt/keyrings/docker.asc&#13;
&#13;
# Add the repository to Apt sources:&#13;
echo \&#13;
  'deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \&#13;
  $(. /etc/os-release &amp;&amp; echo '$VERSION_CODENAME') stable' | \&#13;
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null&#13;
sudo apt-get update&#13;
&#13;
# Install&#13;
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin&#13;
&#13;
# Hello world&#13;
sudo docker run hello-world&#13;
&#13;
# Add user to docker group to grant him privileges&#13;
# WARNING: Do with caution! docker group has the same permissions of root!&#13;
sudo usermod -aG docker USERNAME&#13;
```ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Installing%20CLI%20Tools%20I%20Use%20on%20Debian-Linux.html</guid><pubDate>Sun, 17 Nov 2024 17:09:19 +0000</pubDate></item><item><title>goto Repetition ([-&gt;n]) in SVA</title><link>https://blog.quitw.org/post/goto%20Repetition%20%28%5B--n%5D%29%20in%20SVA.html</link><description>This article is basically a dev memo of [Ben Cohen's amazing tutorial on this topic](https://systemverilog.us/vf/goto_conseq.pdf) , followed by a practical live demo in my work.&#13;
&#13;
### Basic usage and live demo&#13;
&#13;
In a word, goto repetition describe a sequence of a boolean value `b` becoming True for `n` times in following cycles, and **don't care when or continuously or not**.&#13;
&#13;
Given property `a |=&gt; b[-&gt;2] ##1 c`:&#13;
&#13;
```&#13;
       a: 1 - - - - - - -&#13;
       b: - 0 1 0 0 0 1 -&#13;
       c: - - - - - - - 1&#13;
property: |---^-------^-! // match&#13;
```&#13;
&#13;
Let's say here's a counter of range 0 to max value 2. I want a property to trace the counter from 0 to 2 then back to 0, and the other values are all not-care.&#13;
&#13;
```&#13;
   counter: 0 -&gt; 1 -&gt; 0 -&gt; 0 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; 0&#13;
 fail case: |---------! // fail&#13;
match case:                |---------^-------------------! // match&#13;
```&#13;
&#13;
1. Starting point (antecedent)&#13;
&#13;
It should start from `(cnt == 0)`:&#13;
&#13;
```systemverilog&#13;
(cnt == 0) |=&gt; // TODO&#13;
```&#13;
&#13;
2. Finding 2&#13;
&#13;
A value of 2 is expected in following cycles:&#13;
&#13;
```systemverilog&#13;
(cnt == 0) |=&gt; (cnt == 2)[-&gt;1] // TODO&#13;
```&#13;
&#13;
3. Back to 0&#13;
&#13;
After that let's get back to 0 and done:&#13;
&#13;
```systemverilog&#13;
(cnt == 0) |=&gt; (cnt == 2)[-&gt;1] ##1 (cnt == 0)[-&gt;1]; // Done!&#13;
```&#13;
&#13;
OK. I believe this property can handle the most ideal case:&#13;
&#13;
```&#13;
 counter: 0 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; 0&#13;
property: |---------^---------! // match&#13;
```&#13;
&#13;
But it has issues. One is I want it to fail when the counter falls back to 0 before reaching 2, and now it won't:&#13;
&#13;
```&#13;
 counter: 0 -&gt; 1 -&gt; 0 -&gt; 2 -&gt; 1 -&gt; 0&#13;
property: |---------?----^---------! // match&#13;
                    ^-I want it to fail here&#13;
```&#13;
&#13;
To fix that, replace `(cnt == 2)[-&gt;1]` with a restriction of not seeing 0 before:&#13;
&#13;
```systemverilog&#13;
(cnt == 0) |=&gt; (cnt != 0)[*0:$] ##1 (cnt == 2) ##1 (cnt == 0)[-&gt;1];&#13;
```&#13;
&#13;
Second issue is it will start a new thread once it sees 0, which is definitely unnecessary:&#13;
&#13;
```&#13;
 counter: 0 -&gt; 0 -&gt; 0 -&gt; 1 -&gt; 2&#13;
property: |-------------------^ // unnecessary&#13;
               |--------------^ // unnecessary&#13;
                    |---------^ // I want only this&#13;
```&#13;
&#13;
To fix that, replace the antecedent with a short sequence of seeing 0 then 1:&#13;
&#13;
```systemverilog&#13;
(cnt == 0) ##1 (cnt == 1) |=&gt; (cnt != 0)[*0:$] ##1 (cnt == 2) ##1 (cnt == 0)[-&gt;1];&#13;
// OR:     $rose(cnt &gt; 0) |=&gt; ...&#13;
```&#13;
&#13;
Now it works great!&#13;
&#13;
### [-&gt;n] vs [*0:$]&#13;
&#13;
`b[-&gt;n]` is equivalent to `(!b[*0:$] ##1 b)[*n]`, which works like syntactic sugar.&#13;
&#13;
### [-&gt;n] vs first_match()&#13;
&#13;
`b[-&gt;n]` only accepts `b` as a single boolean value without logical operators. So in these cases use `first_match()` instead.&#13;
&#13;
```systemverilog&#13;
(AWREADY &amp; AWVALID)[-&gt;1]        // bit operator: OK&#13;
first_match(AWREADY &amp;&amp; AWVALID) // logical operator: use first_match()&#13;
```&#13;
&#13;
### When NOT to use&#13;
&#13;
NEVER use it in the 1st term of antecedent. Because it will start tons of unnecessary threads.&#13;
&#13;
```systemverilog&#13;
a[-&gt;1] ##1 b |=&gt; c; // BAD and not necessary&#13;
```&#13;
&#13;
For more detailed use guides please refer to [Ben's article](https://systemverilog.us/vf/goto_conseq.pdf) .ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/goto%20Repetition%20%28%5B--n%5D%29%20in%20SVA.html</guid><pubDate>Fri, 15 Nov 2024 07:07:51 +0000</pubDate></item><item><title>Hâ–³G 1st Live in Guangzhou å‚æˆ˜å°è®°</title><link>https://blog.quitw.org/post/H%E2%96%B3G%201st%20Live%20in%20Guangzhou%20-can-zhan-xiao-ji.html</link><description>[&lt;&lt; 2024 Live å…¨è®°å½•](/post/2024%20-nian-ge-lei-%20Live%20-ji-zhan-hui-can-zhan-ji-lu.html)

### æˆ‘å’Œ Hâ–³G

æˆ‘æœ€æ—©å¯¹ Hâ–³G æœ‰å°è±¡æœ€æ—©åº”è¯¥æ˜¯åœ¨ osu! é‡Œå¬åˆ°äº†ä»–ä»¬çš„ã€Šã‚«ãƒ©ãƒ•ãƒ«ã€‹ï¼Œä½†ä¹Ÿå¹¶æ²¡æœ‰ç‰¹åˆ«å…³æ³¨ï¼Œå¤„äºä¸€ä¸ªå¬æ—¥éŸ³ç›¸å½“æ‚é£Ÿçš„çŠ¶æ€ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/H%E2%96%B3G%201st%20Live%20in%20Guangzhou%20-can-zhan-xiao-ji.html</guid><pubDate>Tue, 12 Nov 2024 16:58:47 +0000</pubDate></item><item><title>é¿å…æ²Ÿé€šæ¼æ–—ï¼Œä¼ é€’å®Œæ•´çš„ä¿¡æ¯</title><link>https://blog.quitw.org/post/bi-mian-gou-tong-lou-dou-%EF%BC%8C-chuan-di-wan-zheng-de-xin-xi.html</link><description>### ä½•è°“ã€Œæ¼æ–—ã€&#13;
&#13;
ã€Œæ²Ÿé€šæ¼æ–—ã€æ˜¯ä¸€ä¸ªå¾ˆå½¢è±¡çš„æ¦‚å¿µï¼Œå½¢å®¹è¿™æ ·ä¸€ç§åœºæ™¯ï¼šA æŠŠä¸€ä»¶äº‹å‘Šè¯‰ç»™ Bï¼Œä½†ç”±äºåŒæ–¹çš„ç†è§£åå·®æˆ–å…¶ä»–åŸå› ï¼Œå¯¼è‡´ B åªæ¥æ”¶åˆ° 80% çš„åŸæ„ï¼ŒåŒæ ·çš„äº‹æƒ…ç»§ç»­å‘ç”Ÿåœ¨ B å‘Šè¯‰ Cã€C å‘Šè¯‰ D ä¸Šï¼Œç»“æœæ•´ä¸ªæ²Ÿé€šé“¾ä¸Šè¿™ä»¶äº‹çš„åŸæ„æŸå¤±å¾—è¶Šæ¥è¶Šå¤šï¼Œå¦‚åŒä¸€ä¸ªæ¼æ–—èˆ¬ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/bi-mian-gou-tong-lou-dou-%EF%BC%8C-chuan-di-wan-zheng-de-xin-xi.html</guid><pubDate>Sat, 09 Nov 2024 05:42:48 +0000</pubDate></item><item><title>AXI4 Address Break Down</title><link>https://blog.quitw.org/post/AXI4%20Address%20Break%20Down.html</link><description>### Must know

- Unit of address is **Byte**.
    - 0x00 maps to a 1-byte space in memory.
    - 0x01 maps to the next byte.
- **Aligned address** means `Address % Size == 0`.
    - where `Size` is num of bytes per transfer: `2 ** AxSIZE` or `1 &lt;&lt; AxSIZE`.
- **Narrow transfer** means a transfer not using all *WDATA* bytes, but selected by *WSTRB*.
- *WSTRB* valid bits should match `Size`.

### Schematic diagram

What an AXI address in memory looks like:

- *xDATA* width: 32 bits

```
       Bit# |31    24|23    16|15     8|7      0|
            +--------+--------+--------+--------+
AXI Address |  0x03  |  0x02  |  0x01  |  0x00  |
            +--------+--------+--------+--------+
            |  0x07  |  0x06  |  0x05  |  0x04  |
            +--------+--------+--------+--------+
            |                              ...  |
            +-----------------------------------+
```

### Calculation of burst INCR addresses

&gt; Reference: AXI Spec $A4.1.6

A burst INCR request can start from an **aligned address** or **unaligned address**. For both cases, the 2nd address is always the next aligned address. Each transfer will step forward 1 `Size` space, making the whole burst INCR request write to or read from a consecutive memory space.

- Example function to calculate the start address of the Nth transfer (Nth starts from 1):

```systemverilog
function AXI_Address calc_Nth_start_addr(AXI_Address start_addr, int axsize, int Nth);
    int size = 2 ** axsize; // num of bytes per transfer
    AXI_Address aligned_addr = start_addr / size * size; // round down to aligned address
    // Nth starts from 1
    AXI_Address Nth_start_addr = (Nth == 1) ? (start_addr)                      :
                                              (aligned_addr + (Nth - 1) * size) ;
    return Nth_start_addr;
endfunction
```

- Example function to calculate the last address of the whole burst INCR request:

```systemverilog
function AXI_Address calc_end_addr(AXI_Address start_addr, int axsize, int axlen);
    int total_len = axlen + 1;
    int size = 2 ** axsize; // num of bytes per transfer
    AXI_Address aligned_addr = start_addr / size * size; // round down to aligned address
    AXI_Address end_addr = aligned_addr + total_len * size - 1;
    return end_addr;
endfunction
```

### 4K boundary

*4K* basically refers to a 4K-Byte space in memory, which is also called a *Page*. In AXI it means a 4096 (0x1000) wide address space. An AXI request is not allowed to cross the addresses that start a new *Page*. In other words, all accessed address should only be within one *Page*, E.g. `[0x3000, 0x3FFF]`.

- Example function to check if an address space has crossed 4K boundary:

```systemverilog
function bit has_crossed_4k_boundary(AXI_Address start_addr, AXI_Address end_addr);
    return ((start_addr &gt;&gt; 12) != (end_addr &gt;&gt; 12));
endfunction
```

### Appendix: AXI Spec

[[AMBA AXI Protocol Specification]](https://developer.arm.com/documentation/ihi0022/latest/)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/AXI4%20Address%20Break%20Down.html</guid><pubDate>Fri, 08 Nov 2024 10:00:46 +0000</pubDate></item><item><title>Example Git Config File</title><link>https://blog.quitw.org/post/Example%20Git%20Config%20File.html</link><description>## File Path&#13;
&#13;
* Linux: `~/.gitconfig`&#13;
* Windows: `C:/Users/&lt;user&gt;/.gitconfig`&#13;
&#13;
## Example&#13;
&#13;
```&#13;
[user]&#13;
    email = xxx@yyy.zzz&#13;
    name = xxx&#13;
[http]&#13;
    proxy = 127.0.0.1:10809&#13;
[core]&#13;
    editor = nvim&#13;
    pager = moar&#13;
[color]&#13;
    ui = auto&#13;
[diff]&#13;
    tool = meld&#13;
```&#13;
&#13;
## CLI Command&#13;
&#13;
```sh&#13;
git config --global --list&#13;
           --local  --get&#13;
                    --set   user.email 'xxx@yyy.zzz'&#13;
                    --unset&#13;
```ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Example%20Git%20Config%20File.html</guid><pubDate>Tue, 05 Nov 2024 14:57:56 +0000</pubDate></item><item><title>2024 å¹´å„ç±» Live åŠå±•ä¼šå‚æˆ˜è®°å½•</title><link>https://blog.quitw.org/post/2024%20-nian-ge-lei-%20Live%20-ji-zhan-hui-can-zhan-ji-lu.html</link><description>[2025 &gt;&gt;](/post/2025%20-nian-%20Live%20-ji-ge-lei-huo-dong-can-zhan-ji-lu.html)

### Live

| No. | æ—¥æœŸ  | Live                                                                                                                                    | åœºåœ°      | ä¸»é¢˜     | åŸå¸‚ | ç¥¨ä»·       |
| --- | ---   | ---                                                                                                                                     | ---       | ---      | ---  | ---        |
| 1   | 6/10  | STARLINK METEOR 1st Live                                                                                                                | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 88         |
| 2   | 6/22  | ã€Œå¤šå¨ç‹‚å–œã€ç™½é‡‘äº¤å“ä¹å›¢äºŒæ¬¡å…ƒäº¤å“éŸ³ä¹ä¼š                                                                                                | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 288        |
| 3   | 6/23  | èŠ±ä¹‹ç¤¼èµã€Šå¥å“å§ï¼Œå’ŒéŸ³ç¤¾ï¼ã€‹ç»å…¸åŠ¨æ¼«äº¤å“éŸ³ä¹ä¼š                                                                                          | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 180        |
| 4   | 6/30  | Star2U Macro Idol Festival Vol.14                                                                                                       | Livehouse | åœ°å¶     | ä¸Šæµ· | 128        |
| 5   | 7/12  | ã€Œå¤œÂ³æ­Œç—‡å€™ç¾¤ã€ä¸‰å¤œ Only                                                                                                                | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 99         |
| 6   | 7/20  | CrossingXæ„æ¬¡å…ƒ éŸ³ä¹ç•ª Only                                                                                                             | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 78         |
| 7   | 7/21  | Star2U è·¨æ¬¡å…ƒå˜‰å¹´å Vol.12.5 é‚¦é‚¦ Only                                                                                                  | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 108        |
| 8   | 7/26  | fhana China Live Tour 2024                                                                                                              | Livehouse | æ—¥éŸ³     | ä¸Šæµ· | 380        |
| 9   | 8/11  | æ¼«éŸ³å­£ 2024 å¤                                                                                                                          | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 0 (ä¸­å¥–ç¥¨) |
| 10  | 8/17  | è·¨è¶Šå›½å¢ƒçš„æ—‹å¾‹ å¤§å’Œç”°é›…æ´‹xå’ŒéŸ³ç¤¾äº¤å“å¹å¥éŸ³ä¹ä¼š                                                                                          | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 232        |
| 11  | 8/18  | å¹»å¥ç››å®´ 2024 ä¸Šæµ·åœº                                                                                                                    | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 289        |
| 12  | 8/24  | ã€Šä¸çœ¨çœ¼ã€‹Hâ–³G 1st Live in Shanghai                                                                                                      | Livehouse | æ—¥éŸ³     | ä¸Šæµ· | 480        |
| 13  | 9/7   | å’ŒéŸ³ç¤¾å½•åˆ¶ç°åœºæ—å¬ (åŸæ¼”å‡ºå–æ¶ˆ)                                                                                                         | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 0    |
| 14  | 9/8   | Tie-Up Anirock Live 2.0                                                                                                                 | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 88         |
| 15  | 10/7  | æå…‰çºª Polar Ray 5th                                                                                                                    | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 88         |
| 16  | 10/12 | ã€Šæ¬¡å…ƒå…±é¸£ã€‹ACG ä¹é˜Ÿç•ªä¸»é¢˜æ¼”å”±ä¼š                                                                                                        | Livehouse | ACG æ‘‡æ»š | ä¸Šæµ· | 160        |
| 17  | 11/3  | ã€Œå¤šå¨ç‹‚å–œã€ç™½é‡‘äº¤å“ä¹å›¢äºŒæ¬¡å…ƒäº¤å“éŸ³ä¹ä¼š                                                                                                | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 288        |
| 18  | 11/10 | [ã€Œå£°ã€Hâ–³G 1st Live in Guangzhou](/post/H%E2%96%B3G%201st%20Live%20in%20Guangzhou%20-can-zhan-xiao-ji.html) | Livehouse | æ—¥éŸ³     | å¹¿å· | 480        |
| 19  | 11/16 | milet Asia Tour 2024                                                                                                                    | æ¼”è‰ºé¦†    | æ—¥éŸ³     | ä¸Šæµ· | 880        |
| 20  | 11/24 | æ³½é‡å¼˜ä¹‹ LIVE [nZk] 2024                                                                                                                | ä½“è‚²é¦†    | æ—¥éŸ³     | ä¸Šæµ· | 880        |
| 21  | 12/14 | ç–ç–çš„å¥‡å¦™å†’é™© å¸ç–ç®¡å¼¦ä¹å›¢ 2024 äº¤å“éŸ³ä¹ä¼š                                                                                             | éŸ³ä¹å…    | ACG äº¤å“ | ä¸Šæµ· | 580        |
| 22  | 12/15 | ã€Œæ—§å‹ \| æ–°å£°ã€é™ˆè‡´é€¸ä½œå“éŸ³ä¹ä¼š 2024                                                                                                   | å‰§åœº      | é…ä¹äº¤å“ | ä¸Šæµ· | 480        |

### å±•ä¼š

| No. | æ—¥æœŸ  | å±•ä¼š                             | åŸå¸‚ | ç¥¨ä»· |
| --- | ---   | ---                              | ---  | ---  |
| 1   | 7/27  | Chinajoy 2024                    | ä¸Šæµ· | 188  |
| 2   | 11/30 | åˆ›ä½œè¿é” 2024 æ—¥å‚ Vocaloid Only | ä¸Šæµ· | 139  |ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/2024%20-nian-ge-lei-%20Live%20-ji-zhan-hui-can-zhan-ji-lu.html</guid><pubDate>Sun, 03 Nov 2024 14:27:38 +0000</pubDate></item><item><title>A Practical Guide to Git Submodule</title><link>https://blog.quitw.org/post/A%20Practical%20Guide%20to%20Git%20Submodule.html</link><description>## Clone a Repository With Its Submodules&#13;
&#13;
If is a first-time clone:&#13;
&#13;
```bash&#13;
git clone --recursive &lt;...&gt;&#13;
```&#13;
&#13;
If is an existing repository:&#13;
&#13;
```bash&#13;
git submodule update --init&#13;
```&#13;
&#13;
## Add a Submodule&#13;
&#13;
```bash&#13;
git submodule add &lt;repo_url&gt; [&lt;path&gt;]&#13;
```&#13;
&#13;
Running this command will:&#13;
&#13;
* clone `&lt;repo_url&gt;` into `&lt;path&gt;` , but separate its `.git` folder (see &lt;ins&gt;Change Settings of Submodules&lt;/ins&gt;)&#13;
* add submodule infomation into `.gitmodules`&#13;
* register submodule in `.git/modules/path/to/submodule` (where the `.git` folder is actually in)&#13;
* register submodule in `.git/config` (do a `git submodule init` )&#13;
* stage `.gitmodules` and the submodule folder&#13;
&#13;
This clone will be a very full clone, which means not so many configs can play a role.&#13;
&#13;
## Pull Upstream Changes&#13;
&#13;
Two ways:&#13;
&#13;
* `git submodule update --remote [&lt;path&gt;]`&#13;
* OR: `git pull` in the submodule&#13;
&#13;
Pulling upstream will also update the recorded hashes. Don't forget to commit changes.&#13;
&#13;
## Change Settings of Submodules&#13;
&#13;
There're two paths available:&#13;
&#13;
* `/path/to/submodule` (recommended)&#13;
* `.git/modules/path/to/submodule` (the actual path of the `.git` folder)&#13;
&#13;
Change working directory into one of them, then any git commands will apply to the submodule. For the first path, if is not been cloned, commands would still apply to the top-level repository. It is recommended to open a new terminal tab/window for changes within a submodule.&#13;
&#13;
What can do in a submodule:&#13;
&#13;
* pull upstream changes&#13;
* setup [sparse checkout](https://purple4pur.github.io/post/Git%20Sparse%20Checkout.html) (not that practical)&#13;
&#13;
What can NOT do (or not be recommended) in a submodule:&#13;
&#13;
* change branch (see &lt;ins&gt;Change Tracking Branch&lt;/ins&gt;)&#13;
* change remote url (see &lt;ins&gt;Change Submodule URL&lt;/ins&gt;)&#13;
&#13;
## Change Tracking Branch&#13;
&#13;
A submodule can only be tracked with a **remote named branch**, not a hash, not a local branch.&#13;
&#13;
### 1. Update Branch Setting&#13;
&#13;
* `git submodule set-branch -b &lt;remote-branch&gt; &lt;module&gt;` (not recommended - verbose and easy to mismatch)&#13;
* OR: manually append `branch = &lt;remote-branch&gt;` below submodule's url in `.gitmodules`&#13;
&#13;
Warning: `&lt;module&gt;` must match the name in `.gitmodules` .&#13;
&#13;
If want to remove this setting (means to use the default branch):&#13;
&#13;
* `git submodule set-branch -d &lt;module&gt;` (not recommended)&#13;
* OR: manually remove the `branch = &lt;remote-branch&gt;` line&#13;
&#13;
### 2. Switch to the New Branch&#13;
&#13;
```bash&#13;
git submodule update --remote [&lt;path&gt;]&#13;
```&#13;
&#13;
This command will:&#13;
&#13;
1. do a `git pull; git checkout origin/&lt;remote-branch&gt;` in submodules&#13;
2. update recorded hash (checked with `status`. See &lt;ins&gt;`git submodule status`&lt;/ins&gt;)&#13;
&#13;
Don't forget to commit changes.&#13;
&#13;
## Change Submodule URL&#13;
&#13;
Mostly the same as &lt;ins&gt;Change Tracking Branch&lt;/ins&gt; , but change `url = &lt;URL&gt;` line instead.&#13;
&#13;
## Move a Submodule to a New Path&#13;
&#13;
```bash&#13;
git mv /path/to/submodule /new/path&#13;
```&#13;
&#13;
`git mv` handles everything.&#13;
&#13;
## Remove a Submodule From Current Repository&#13;
&#13;
1. `git submodule deinit /path/to/submodule` : unregister submodule from `.git/config`&#13;
2. remove `.git/modules/path/to/submodule` manually&#13;
3. `git rm /path/to/submodule` : remove submodule folder, unregister from `.gitmodules` and stage changes&#13;
&#13;
[Reference](https://stackoverflow.com/a/16162000/12509229)&#13;
&#13;
## Submodule Command Explanation&#13;
&#13;
[Full Documentation](https://git-scm.com/docs/git-submodule) | [Example Usage](https://git-scm.com/book/en/v2/Git-Tools-Submodules)&#13;
&#13;
### `git submodule -h`&#13;
&#13;
List all sub-commands.&#13;
&#13;
### `git submodule`&#13;
&#13;
Same as `git submodule status` without parameters.&#13;
&#13;
### `git submodule status`&#13;
&#13;
List all submodules with paths and **current hashes**. Hashes may have a prefix:&#13;
&#13;
* `-` : not initialized. An `init` or `update --init` is wanted&#13;
* `+` : currently checked out hash differs from the **recorded one**. An `update` is wanted&#13;
&#13;
### `git submodule add`&#13;
&#13;
Add a new submodule. See &lt;ins&gt;Add a Submodule&lt;/ins&gt; .&#13;
&#13;
### `git submodule init/deinit`&#13;
&#13;
(Un)register a submodule. 'Registered' means 'active'. `update` and other sub-commands will only apply to active submodules.&#13;
&#13;
### `git submodule update`&#13;
&#13;
Checkout the recorded hash of submodules. Some options:&#13;
&#13;
* `--init` : shorthand of `init` then `update`&#13;
* `--remote` : pull upstream and update recorded hashes. See &lt;ins&gt;Pull Upstream Changes&lt;/ins&gt;&#13;
* `--recursive` : `update` all nested submodules&#13;
&#13;
### `git submodule foreach &lt;command&gt;`&#13;
&#13;
Run `&lt;command&gt;` within each submodule. Example: `git submodule foreach git pull` .&#13;
ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/A%20Practical%20Guide%20to%20Git%20Submodule.html</guid><pubDate>Sat, 02 Nov 2024 07:06:15 +0000</pubDate></item><item><title>ä¸€ç§æ›´å¹³è¡¡å¬æ­Œå’Œä¸Šåˆ†çš„ maimai é€‰æ­Œç­–ç•¥</title><link>https://blog.quitw.org/post/yi-zhong-geng-ping-heng-ting-ge-he-shang-fen-de-%20maimai%20-xuan-ge-ce-lve.html</link><description>æˆ‘æ‰“ maimai çš„èƒŒæ™¯æƒ…å†µæ˜¯ä¸å¤ªå‹¤ï¼Œå¾ˆå¤šæ­Œéƒ½å°šæ— æˆç»©ï¼ŒåŒæ—¶åˆè¿˜æœ‰äº›ä¸Šåˆ†ç©ºé—´ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/yi-zhong-geng-ping-heng-ting-ge-he-shang-fen-de-%20maimai%20-xuan-ge-ce-lve.html</guid><pubDate>Thu, 31 Oct 2024 15:46:28 +0000</pubDate></item><item><title>ROG Falchion(é­”å¯¼å£«) RX Low Profile é”®ç›˜ä½¿ç”¨ä½“éªŒ</title><link>https://blog.quitw.org/post/ROG%20Falchion%28-mo-dao-shi-%29%20RX%20Low%20Profile%20-jian-pan-shi-yong-ti-yan.html</link><description>åŒåä¸€äºäº¬ä¸œè´­å…¥ï¼Œå®ä»˜ 1179 å…ƒï¼Œäº 10 æœˆ 15 æ—¥æ™šä¸Šæ‹¿åˆ°æ‰‹ï¼ŒæŒç»­ä½¿ç”¨è‡³æœ¬æ–‡å‘å¸ƒæ—¶ï¼ˆçº¦ä¸¤å‘¨ï¼‰ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/ROG%20Falchion%28-mo-dao-shi-%29%20RX%20Low%20Profile%20-jian-pan-shi-yong-ti-yan.html</guid><pubDate>Mon, 28 Oct 2024 17:29:41 +0000</pubDate></item><item><title>Git Sparse Checkout</title><link>https://blog.quitw.org/post/Git%20Sparse%20Checkout.html</link><description>## What Is Sparse Checkout?&#13;
&#13;
Checkout only part of the entire repository. Focus on files you need.&#13;
&#13;
Keep in mind: sparse-checkout settings are only kept in local copy. Won't be pushed. Won't be cloned.&#13;
&#13;
## Enable/Set/Add&#13;
&#13;
```bash&#13;
git sparse-checkout set/add [--no-cone] &lt;file(s)&gt;&#13;
```&#13;
&#13;
* `set` : re-write current settings&#13;
* `add` : append to current settings&#13;
&#13;
Running this will automatically enable sparse-checkout feature, which can be checked with `git config --list` .&#13;
&#13;
Internally, sparse-checkout maintains two files:&#13;
&#13;
1. `.git/config` , where stores the feature ON/OFF flags&#13;
2. `.git/info/sparse-checkout` . This file has a format the same as `.gitignore` but plays a **whitelist** role , and is the one `set/add` write to.&#13;
&#13;
Alternatively, the user can edit `.git/info/sparse-checkout` manually. (See also: &lt;ins&gt;`--cone` (default flag) vs `--no-cone`&lt;/ins&gt;)&#13;
&#13;
## List Current Settings&#13;
&#13;
```bash&#13;
git sparse-checkout list&#13;
```&#13;
&#13;
## Disable/Re-enable&#13;
&#13;
### Disable&#13;
&#13;
```bash&#13;
git sparse-checkout disable&#13;
```&#13;
&#13;
: turn off all sparse-checkout flags in `.git/config` , but not touch `.git/info/sparse-checkout` .&#13;
&#13;
### Re-enable&#13;
&#13;
```bash&#13;
git sparse-checkout add # no files here&#13;
```&#13;
&#13;
: turn on flags, continue using current `.git/info/sparse-checkout` .&#13;
&#13;
## `--cone` (default flag) vs `--no-cone`&#13;
&#13;
`--cone` is more like a 'smart' mode:&#13;
&#13;
* It automatically add `/*` and `!/*/` to `.git/info/sparse-checkout` (which means it **always allows top-level files** such as `/README.md` . It is impossible to filter them out.)&#13;
* When `set/add` , for example, passing `lua` will become a `/lua/` line in `.git/info/sparse-checkout`&#13;
&#13;
`--no-cone` is somewhat 'manual' mode:&#13;
&#13;
* When `set/add` , `&lt;file(s)&gt;` will be written into `.git/info/sparse-checkout` character by character.&#13;
&#13;
In this mode, the user can filter anything without any restriction. But to remember: always set a path with a leading `/` like this: `git sparse-checkout add /README.md /lua /doc` .&#13;
&#13;
If you have been aware of all of above, I suggest `--no-cone` mode, which is more flexible. [An official discussion here](https://git-scm.com/docs/git-sparse-checkout#_internalsnon_cone_problems) .&#13;
&#13;
## Extra: Start From a Minimal Clone&#13;
&#13;
```bash&#13;
git clone --filter=blob:none --no-checkout &lt;URL&gt; [&lt;...&gt;]&#13;
git sparse-checkout set [&lt;...&gt;]&#13;
git checkout&#13;
```&#13;
&#13;
[Reference](https://github.blog/2020-01-17-bring-your-monorepo-down-to-size-with-sparse-checkout/#sparse-checkout-and-partial-clones)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Git%20Sparse%20Checkout.html</guid><pubDate>Sat, 26 Oct 2024 15:17:05 +0000</pubDate></item><item><title>çˆ±å¥½æ˜¯ä¸€ç§èƒ½è®©è‡ªå·±å¼€å¿ƒçš„ä¹ æƒ¯</title><link>https://blog.quitw.org/post/ai-hao-shi-yi-zhong-neng-rang-zi-ji-kai-xin-de-xi-guan.html</link><description>æœ€è¿‘åœ¨å›æƒ³æˆ‘çš„çˆ±å¥½ï¼Œåœ¨è¿‡å»çš„åå¹´é‡Œå…¶å®æ”¹å˜äº†ä¸å°‘ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/ai-hao-shi-yi-zhong-neng-rang-zi-ji-kai-xin-de-xi-guan.html</guid><pubDate>Fri, 25 Oct 2024 09:35:28 +0000</pubDate></item><item><title>vcs/verdi Cheat Sheet</title><link>https://blog.quitw.org/post/vcs-verdi%20Cheat%20Sheet.html</link><description>## vcs&#13;
&#13;
```bash&#13;
-full64 +v2k -sverilog              # å›ºå®šèµ·æ‰‹ï¼ˆv2k æŒ‡ Verilog-2001ï¼‰&#13;
-lca -debug_access+all -kdb         # ä¿å­˜æ³¢å½¢éœ€è¦ï¼Œdebug å¼€å…³æå¤§å½±å“ä»¿çœŸæ—¶é—´[1][2]&#13;
-timescale=1ns/100ps                # æ—¶é—´ç²¾åº¦ï¼Œè€ƒè™‘åœ¨è¿™é‡Œç»Ÿä¸€æŒ‡å®š&#13;
-ntb_opts uvm-1.1                   # UVM&#13;
+incdir+&lt;XX_DIR&gt; &lt;XX_file&gt;          # rtlã€verif æ–‡ä»¶&#13;
+define+&lt;XX&gt; +define+&lt;XX&gt;=&lt;YY&gt;      # è®¾ç½® define&#13;
+vcs+fsdbon                         # è‡ªåŠ¨ç”Ÿæˆæ³¢å½¢æ–‡ä»¶ï¼ˆnovas.fsdbï¼‰&#13;
-cm line+branch -cm_dir &lt;cov.vdb&gt;   # ç»Ÿè®¡è¦†ç›–ç‡[3][4]&#13;
-fgp                                # å¯ç”¨å¤šçº¿ç¨‹ä»¿çœŸæ”¯æŒ[5]&#13;
-j&lt;NUM&gt;                             # å¤šçº¿ç¨‹ç¼–è¯‘ï¼Œå®æµ‹å¯¹ç¼–è¯‘é€Ÿåº¦å¯èƒ½å‡ ä¹æ— æå‡&#13;
-R [simv_options]                   # ç¼–è¯‘åè‡ªåŠ¨å¼€å§‹ä»¿çœŸ&#13;
```&#13;
&#13;
## simv&#13;
&#13;
```bash&#13;
+UVM_TESTNAME=&lt;TEST&gt;                # æŒ‡å®š run_test() è°ƒç”¨çš„ uvm_test&#13;
+ntb_random_seed=&lt;SEED&gt;             # éšæœºæ•°ç§å­ï¼Œç”¨äº random()ã€randomize() ç­‰&#13;
-ucli -i &lt;UCLI_FILE&gt;                # çµæ´»æ§åˆ¶æ˜¯å¦ç”Ÿæˆæ³¢å½¢&#13;
+fsdb+delta                         # è®°å½• delta timeï¼Œèƒ½åœ¨ verdi é‡Œå±•å¼€&#13;
-cm line+branch -cm_dir &lt;cov.vdb&gt; -cm_name &lt;TEST&gt;&#13;
                                    # ç»Ÿè®¡è¦†ç›–ç‡[3][4]&#13;
+UVM_TR_RECORD +UVM_LOG_RECORD +UVM_VERDI_TRACE&#13;
                                    # UVM debug å¼€å…³ï¼Œèƒ½åœ¨ verdi é‡Œå¯è§†åŒ– transaction&#13;
+UVM_VERBOSITY=&lt;VERBOSITY&gt;          # çµæ´»è°ƒæ•´ UVM æ‰“å°å†—ä½™çº§åˆ«&#13;
-fgp=num_threads:&lt;NUM&gt;,num_fsdb_threads:&lt;NUM&gt;,allow_less_cores -Xdprof=timeline&#13;
                                    # å¤šçº¿ç¨‹ä»¿çœŸ[5]ï¼Œå®æµ‹å¯¹ä»¿çœŸé€Ÿåº¦å¯èƒ½å‡ ä¹æ— æå‡&#13;
```&#13;
&#13;
### &lt;UCLI_FILE&gt;&#13;
&#13;
```bash&#13;
fsdbDumpvars 0                      # ç”Ÿæˆæ‰€æœ‰æ³¢å½¢ï¼Œé»˜è®¤æ–‡ä»¶åä¸º novas.fsdbï¼Œæå¤§å½±å“ä»¿çœŸæ—¶é—´[1]&#13;
run&#13;
quit&#13;
```&#13;
&#13;
## verdi&#13;
&#13;
```bash&#13;
-dbdir simv.daidir                  # åŠ è½½ä»£ç &#13;
-ssf novas.fsdb                     # åŠ è½½æ³¢å½¢ï¼Œå¦‚æœå­˜åœ¨å…³è”çš„ä»£ç ä¹Ÿä¼šè‡ªåŠ¨åŠ è½½ï¼ˆå³çœç•¥ -dbdirï¼‰&#13;
-cov -covdir &lt;cov.vdb&gt;              # æ‰“å¼€ vdCoverage çª—å£ï¼Œå¹¶åŠ è½½è¦†ç›–ç‡ä¿¡æ¯&#13;
```&#13;
&#13;
* `&lt;Shift+æ»šè½®&gt;`ï¼šå‰åå¹³ç§»æ³¢å½¢&#13;
* `åŒå‡»æ³¢å½¢è¾¹æ²¿`ï¼šåœ¨ä»£ç çª—å£ä¸­è·³è½¬åˆ°å¯¹åº”çš„æ¿€åŠ±&#13;
* `nWave-&gt;Tools-&gt;Transaction Debug-&gt;Transaction and Protocol Analyzer`ï¼šæ‰“å¼€å¯è§†åŒ– transaction é¢æ¿&#13;
* `tProtocolAnalyzer-&gt;View-&gt;Sync. With nWave`ï¼šå…³è”ä¸Šä¸‹ä¸¤ä¸ªé¢æ¿ï¼ˆæ³¢å½¢ã€transactionï¼‰&#13;
* `Tools-&gt;Coverage`ï¼šæ‰“å¼€ vdCoverage çª—å£&#13;
* `vdCoverage-&gt;Tools-&gt;Generate URG Report`ï¼šç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š&#13;
&#13;
## Reference&#13;
&#13;
[1] [vcsä¸­debugé€‰é¡¹ã€æ³¢å½¢dumpå¯¹ä»¿çœŸæ—¶é—´çš„å½±å“_kevindasçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/kevindas/article/details/107307654)&#13;
[2] [Synopsys VCS ç¼–è¯‘æ—¶ï¼Œå¯ç”¨debugé€‰é¡¹_XtremeDVçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/zhajio/article/details/88839838)&#13;
[3] [vcsè¦†ç›–ç‡é€‰é¡¹_weixin_39662684çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_39662684/article/details/108255556)&#13;
[4] [VCSè¦†ç›–ç‡ä½¿ç”¨è¯¦è§£ï¼ˆåŸºç¡€ã€åˆå¹¶ã€æŸ¥çœ‹ã€åˆ†æï¼‰ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/620471082)&#13;
[5] [VCS -- fgp ä»¿çœŸåŠ é€Ÿ - Thisway2014 - åšå®¢å›­](https://www.cnblogs.com/thisway2014/p/16783601.html)ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/vcs-verdi%20Cheat%20Sheet.html</guid><pubDate>Thu, 24 Oct 2024 16:04:25 +0000</pubDate></item><item><title>Hello Gmeek!</title><link>https://blog.quitw.org/post/Hello%20Gmeek%21.html</link><description>Hello Gmeek, welcome back my blog!&#13;
&#13;
I knew this project from V2EX months ago and thinking wow that is exactly what I want: a simple enough place to write down anything without handling deployment, page style, server, etc. Now it's here.&#13;
&#13;
See you soon in the next coming post.ã€‚</description><guid isPermaLink="true">https://blog.quitw.org/post/Hello%20Gmeek%21.html</guid><pubDate>Wed, 23 Oct 2024 15:32:56 +0000</pubDate></item></channel></rss>